{"uid":"bc25b872c00a6776","name":"QA 1221","fullName":"QA #1221 on ubuntu2204-container","historyId":"1221@ubuntu2204-container","time":{"start":1761942191000,"stop":1761942222000,"duration":31000},"description":"PCP QA Test No. 1221\n\ntest pmda openmetrics labels\n\n\n\nNote: if anything gets added or changed in qa/openmetrics/samples directory,\n\nthen this test (and all tests in group pmda.openmetrics) will need to be remade.\n\n\n\nCopyright (c) 2017 Red Hat.  All Rights Reserved.\n\n\n\n","descriptionHtml":"<p>PCP QA Test No. 1221</p>\n<p>test pmda openmetrics labels</p>\n<p>Note: if anything gets added or changed in qa/openmetrics/samples directory,</p>\n<p>then this test (and all tests in group pmda.openmetrics) will need to be remade.</p>\n<p>Copyright (c) 2017 Red Hat.  All Rights Reserved.</p>\n","status":"passed","statusMessage":"","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[],"afterStages":[],"labels":[{"name":"suite","value":"ubuntu2204-container"},{"name":"host","value":"ubuntu2204-container"},{"name":"epic","value":"labels"},{"name":"epic","value":"pmda.openmetrics"},{"name":"epic","value":"local"},{"name":"epic","value":"python"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[{"name":"Source","url":"https://github.com/performancecopilot/pcp/tree/6f0d138c7069614c2c085ad9572e89d47fed39d5/qa/1221","type":"test_case"},{"name":"Expected output","url":"https://github.com/performancecopilot/pcp/tree/6f0d138c7069614c2c085ad9572e89d47fed39d5/qa/1221.out","type":"test_case"}],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[],"history":{"statistic":{"failed":1,"broken":1,"skipped":0,"passed":1169,"unknown":0,"total":1171},"items":[{"uid":"2a3974aec711fc3b","reportUrl":"https://performancecopilot.github.io/qa-reports/reports/20251031_004824-a313abf7//#testresult/2a3974aec711fc3b","status":"passed","statusDetails":"","time":{"start":1761857148000,"stop":1761857180000,"duration":32000}},{"uid":"9c42ec36cfcd66d2","reportUrl":"https://performancecopilot.github.io/qa-reports/reports/20251029_212357-9fb8fadc//#testresult/9c42ec36cfcd66d2","status":"passed","statusDetails":"","time":{"start":1761769328000,"stop":1761769359000,"duration":31000}},{"uid":"62c26f59a72b7799","reportUrl":"https://performancecopilot.github.io/qa-reports/reports/20251028_221452-396bb282//#testresult/62c26f59a72b7799","status":"passed","statusDetails":"","time":{"start":1761683108000,"stop":1761683139000,"duration":31000}},{"uid":"94da211c34c44ab","reportUrl":"https://performancecopilot.github.io/qa-reports/reports/20251028_020332-9399bded//#testresult/94da211c34c44ab","status":"passed","statusDetails":"","time":{"start":1761605491000,"stop":1761605522000,"duration":31000}},{"uid":"3e2929b62517ffe8","reportUrl":"https://performancecopilot.github.io/qa-reports/reports/20251026_212048-7ece8cc1//#testresult/3e2929b62517ffe8","status":"passed","statusDetails":"","time":{"start":1761509980000,"stop":1761510010000,"duration":30000}},{"uid":"f121206c4449fd51","reportUrl":"https://performancecopilot.github.io/qa-reports/reports/20251025_212301-7ece8cc1//#testresult/f121206c4449fd51","status":"passed","statusDetails":"","time":{"start":1761423633000,"stop":1761423664000,"duration":31000}},{"uid":"c3f963c61be73117","reportUrl":"https://performancecopilot.github.io/qa-reports/reports/20251024_212524-7ece8cc1//#testresult/c3f963c61be73117","status":"passed","statusDetails":"","time":{"start":1761337392000,"stop":1761337422000,"duration":30000}},{"uid":"c5f4f232e30bdff9","reportUrl":"https://performancecopilot.github.io/qa-reports/reports/20251023_212002-95afa073//#testresult/c5f4f232e30bdff9","status":"passed","statusDetails":"","time":{"start":1761250915000,"stop":1761250945000,"duration":30000}},{"uid":"deca0b94fbdec0f2","reportUrl":"https://performancecopilot.github.io/qa-reports/reports/20251022_212354-95afa073//#testresult/deca0b94fbdec0f2","status":"passed","statusDetails":"","time":{"start":1761164615000,"stop":1761164646000,"duration":31000}},{"uid":"68afcac5fb68a1b1","reportUrl":"https://performancecopilot.github.io/qa-reports/reports/20251021_212327-68aa730c//#testresult/68afcac5fb68a1b1","status":"passed","statusDetails":"","time":{"start":1761077684000,"stop":1761077712000,"duration":28000}},{"uid":"c38d94de94093e3","reportUrl":"https://performancecopilot.github.io/qa-reports/reports/20251020_214124-4482d6ae//#testresult/c38d94de94093e3","status":"passed","statusDetails":"","time":{"start":1760991814000,"stop":1760991845000,"duration":31000}},{"uid":"ad5430f642945a96","reportUrl":"https://performancecopilot.github.io/qa-reports/reports/20251019_211912-4482d6ae//#testresult/ad5430f642945a96","status":"passed","statusDetails":"","time":{"start":1760905164000,"stop":1760905195000,"duration":31000}},{"uid":"5d61beaa45b905f3","reportUrl":"https://performancecopilot.github.io/qa-reports/reports/20251018_211924-46969761//#testresult/5d61beaa45b905f3","status":"passed","statusDetails":"","time":{"start":1760818809000,"stop":1760818841000,"duration":32000}},{"uid":"8661ce50fdac3781","reportUrl":"https://performancecopilot.github.io/qa-reports/reports/20251017_211904-46969761//#testresult/8661ce50fdac3781","status":"passed","statusDetails":"","time":{"start":1760732395000,"stop":1760732426000,"duration":31000}},{"uid":"f94377717c3e3198","reportUrl":"https://performancecopilot.github.io/qa-reports/reports/20251016_212852-46969761//#testresult/f94377717c3e3198","status":"passed","statusDetails":"","time":{"start":1760646371000,"stop":1760646403000,"duration":32000}},{"uid":"9fb7c2eb6c362577","reportUrl":"https://performancecopilot.github.io/qa-reports/reports/20251015_212253-ba09268c//#testresult/9fb7c2eb6c362577","status":"passed","statusDetails":"","time":{"start":1760559709000,"stop":1760559739000,"duration":30000}},{"uid":"292af4ab759c0590","reportUrl":"https://performancecopilot.github.io/qa-reports/reports/20251015_004011-0d24eb97//#testresult/292af4ab759c0590","status":"passed","statusDetails":"","time":{"start":1760483248000,"stop":1760483279000,"duration":31000}},{"uid":"50d10d08a26bd827","reportUrl":"https://performancecopilot.github.io/qa-reports/reports/20251013_212512-84bf35c4//#testresult/50d10d08a26bd827","status":"passed","statusDetails":"","time":{"start":1760386866000,"stop":1760386897000,"duration":31000}},{"uid":"43c22109e0e7edfd","reportUrl":"https://performancecopilot.github.io/qa-reports/reports/20251012_212220-58609e1a//#testresult/43c22109e0e7edfd","status":"failed","statusDetails":"output mismatch (see 1221.out.bad)\n16457a16458,17141\n> Job for pmlogger.service failed because the service did not take the steps required by its unit configuration.\n> See \"systemctl status pmlogger.service\" and \"journalctl -xeu pmlogger.service\" for details.\n> Sun Oct 12 20:20:31 UTC 2025\n> Arrgh ... pmlogger (primary) failed to start after 20 seconds\n> at Sun Oct 12 20:20:31 UTC 2025.\n> ++ pmlogger log (/var/log/pcp/pmlogger/b9ad04d604ea/pmlogger.log) ...\n> -rw-r--r-- 1 pcp pcp 240 Oct 12 20:19 /var/log/pcp/pmlogger/b9ad04d604ea/pmlogger.log\n> Log for pmlogger on b9ad04d604ea started Sun Oct 12 20:19:07 2025\n> \n> [Sun Oct 12 20:19:07] pmlogger(1574004) Info: Start\n> preprocessor cmd: /usr/lib/pcp/bin/pmcpp -rs -I /var/lib/pcp/config/pmlogger /var/lib/pcp/config/pmlogger/config.default\n> \n> ++ previous pmlogger log (/var/log/pcp/pmlogger/b9ad04d604ea/pmlogger.log.prev) ...\n> -rw-r--r-- 1 pcp pcp 35828 Oct 12 20:19 /var/log/pcp/pmlogger/b9ad04d604ea/pmlogger.log.prev\n> Log for pmlogger on b9ad04d604ea started Sun Oct 12 20:15:56 2025\n> \n> [Sun Oct 12 20:15:56] pmlogger(1462776) Info: Start\n> preprocessor cmd: /usr/lib/pcp/bin/pmcpp -rs -I /var/lib/pcp/config/pmlogger /var/lib/pcp/config/pmlogger/config.default\n> Config parsed\n> Starting primary logger for host \"b9ad04d604ea\" via \"local:\"\n> __pmLogNewFile: \"/var/log/pcp/pmlogger/b9ad04d604ea/20251012.20.15.index\" already exists, not over-written\n> __pmLogNewFile: \"/var/log/pcp/pmlogger/b9ad04d604ea/20251012.20.15-00.index\" already exists, not over-written\n> Archive basename: /var/log/pcp/pmlogger/b9ad04d604ea/20251012.20.15-01\n> \n> Group [85 metrics] {\n> \thinv.nfchost\n> \tkernel.all.pid_max\n>         ...\n> } logged once: 6348 bytes\n> \n> Group [1127 metrics] {\n> \tnetwork.all.out.packets\n> \tnetwork.all.out.bytes\n>         ...\n> } logged every 10 sec: 39332 bytes or 324.09 Mbytes/day\n> \n> Group [3 metrics] {\n> \tproc.memory.rss\n> \tproc.memory.size\n>         ...\n> } logged every 300 sec: 1500 bytes or 0.41 Mbytes/day\n> \n> Group [46 metrics] {\n> \tproc.io.cancelled_write_bytes\n> \tproc.io.write_bytes\n>         ...\n> } logged every 60 sec: 31696 bytes or 43.53 Mbytes/day\n> pmlogger: Lost connection to PMCD on \"b9ad04d604ea\" at Sun Oct 12 20:19:05 2025\n> pmlogger: re-established connection to PMCD on \"b9ad04d604ea\" at Sun Oct 12 20:19:06 2025\n> pmlogger: Validating metrics after PMCD state changed at Sun Oct 12 20:19:06 2025\n> Description unavailable for metric \"pmproxy.keys.requests.inflight.bytes\": Unknown or illegal metric identifier\n> Description unavailable for metric \"pmproxy.keys.requests.inflight.total\": Unknown or illegal metric identifier\n> Description unavailable for metric \"pmproxy.keys.requests.error\": Unknown or illegal metric identifier\n> Description unavailable for metric \"pmproxy.keys.requests.total\": Unknown or illegal metric identifier\n> Description unavailable for metric \"pmproxy.http.uncompressed.bytes\": Unknown or illegal metric identifier\n> Description unavailable for metric \"pmproxy.http.uncompressed.count\": Unknown or illegal metric identifier\n> Description unavailable for metric \"pmproxy.http.compressed.bytes\": Unknown or illegal metric identifier\n> Description unavailable for metric \"pmproxy.http.compressed.count\": Unknown or illegal metric identifier\n> Description unavailable for metric \"pmproxy.discover.throttle\": Unknown or illegal metric identifier\n> Description unavailable for metric \"pmproxy.discover.throttled_changed_callbacks\": Unknown or illegal metric identifier\n> Description unavailable for metric \"pmproxy.discover.changed_callbacks\": Unknown or illegal metric identifier\n> Description unavailable for metric \"pmproxy.discover.logvol.get_archive_end_failed\": Unknown or illegal metric identifier\n> Description unavailable for metric \"pmproxy.discover.logvol.new_contexts\": Unknown or illegal metric identifier\n> Description unavailable for metric \"pmproxy.discover.logvol.decode.result_errors\": Unknown or illegal metric identifier\n> Description unavailable for metric \"pmproxy.discover.logvol.decode.mark_record\": Unknown or illegal metric identifier\n> Description unavailable for metric \"pmproxy.discover.logvol.decode.result_pmids\": Unknown or illegal metric identifier\n> Description unavailable for metric \"pmproxy.discover.logvol.decode.result\": Unknown or illegal metric identifier\n> Description unavailable for metric \"pmproxy.discover.logvol.change_vol\": Unknown or illegal metric identifier\n> Description unavailable for metric \"pmproxy.discover.logvol.loops\": Unknown or illegal metric identifier\n> Description unavailable for metric \"pmproxy.discover.logvol.callbacks\": Unknown or illegal metric identifier\n> Description unavailable for metric \"pmproxy.discover.metadata.partial_reads\": Unknown or illegal metric identifier\n> Description unavailable for metric \"pmproxy.discover.metadata.decode.helptext\": Unknown or illegal metric identifier\n> Description unavailable for metric \"pmproxy.discover.metadata.decode.label\": Unknown or illegal metric identifier\n> Description unavailable for metric \"pmproxy.discover.metadata.decode.indom\": Unknown or illegal metric identifier\n> Description unavailable for metric \"pmproxy.discover.metadata.decode.desc\": Unknown or illegal metric identifier\n> Description unavailable for metric \"pmproxy.discover.metadata.loops\": Unknown or illegal metric identifier\n> Description unavailable for metric \"pmproxy.discover.metadata.callbacks\": Unknown or illegal metric identifier\n> Description unavailable for metric \"pmproxy.discover.purged\": Unknown or illegal metric identifier\n> Description unavailable for metric \"pmproxy.discover.monitored\": Unknown or illegal metric identifier\n> Error looking up pmproxy.logpaths.archive: Reason: Unknown metric name\n> One or more configured metrics have changed after pmcd state change. Exiting\n> \n> Log finished Sun Oct 12 20:19:06 2025\n> ++ /var/log/pcp/pmlogger/pmlogger_check.log.prev\n> -rw-r--r-- 1 pcp pcp 393 Oct 12 20:20 /var/log/pcp/pmlogger/pmlogger_check.log.prev\n> Start [check]: 2025-10-12 20:19:49.989515128\n> pmlogger_check: Warning: is another PCP cron job running concurrently?\n> -r--r--r-- 1 pcp pcp 23 Oct 12 20:19 /var/log/pcp/pmlogger/b9ad04d604ea/lock\n> 1573392 pmlogger_check\n> pmlogger_check: [control.d/local:36]\n> Warning: failed to acquire exclusive lock (/var/log/pcp/pmlogger/b9ad04d604ea/lock) ...\n> End [check]: 2025-10-12 20:20:11.575807538 status=0\n> ++ /var/log/pcp/pmlogger/pmlogger_janitor.log.prev\n> -rw-r--r-- 1 pcp pcp 101 Oct 12 20:20 /var/log/pcp/pmlogger/pmlogger_janitor.log.prev\n> Start [janitor]: 2025-10-12 20:20:11.436457030\n> End [janitor]: 2025-10-12 20:20:11.570805296 status=0\n> \n> ++ systemctl status for pmcd.service ...\n> ● pmcd.service - Performance Metrics Collector Daemon\n>      Loaded: loaded (/lib/systemd/system/pmcd.service; enabled; vendor preset: enabled)\n>      Active: active (running) since Sun 2025-10-12 20:19:49 UTC; 42s ago\n>        Docs: man:pmcd(1)\n>    Main PID: 1584766 (pmcd)\n>       Tasks: 12 (limit: 307)\n>      Memory: 56.2M\n>         CPU: 531ms\n>      CGroup: /system.slice/pmcd.service\n>              ├─1584766 /usr/lib/pcp/bin/pmcd -A -T 3 -C 512\n>              ├─1584769 /var/lib/pcp/pmdas/root/pmdaroot\n>              ├─1584770 /var/lib/pcp/pmdas/proc/pmdaproc -d 3\n>              ├─1584771 /var/lib/pcp/pmdas/xfs/pmdaxfs -d 11\n>              ├─1584772 /var/lib/pcp/pmdas/sample/pmdasample -d 29\n>              ├─1584773 /var/lib/pcp/pmdas/linux/pmdalinux\n>              ├─1584774 /usr/bin/python3 /var/lib/pcp/pmdas/nfsclient/pmdanfsclient.python\n>              ├─1584778 /var/lib/pcp/pmdas/kvm/pmdakvm -d 95\n>              ├─1584779 /var/lib/pcp/pmdas/dm/pmdadm -d 129\n>              ├─1584780 /usr/bin/python3 /var/lib/pcp/pmdas/openmetrics/pmdaopenmetrics.python\n>              ├─1584784 /usr/bin/python3 /var/lib/pcp/pmdas/opentelemetry/pmdaopentelemetry.python\n>              └─1584793 /var/lib/pcp/pmdas/simple/pmdasimple -d 253\n> \n> ++ last 4 journal entries for pmcd.service\n> Oct 12 20:19:49 b9ad04d604ea systemd[1]: Stopped Performance Metrics Collector Daemon.\n> ░░ Subject: A stop job for unit pmcd.service has finished\n> ░░ Defined-By: systemd\n> ░░ Support: http://www.ubuntu.com/support\n> ░░ \n> ░░ A stop job for unit pmcd.service has finished.\n> ░░ \n> ░░ The job identifier is 34845 and the job result is done.\n> Oct 12 20:19:49 b9ad04d604ea systemd[1]: pmcd.service: Consumed 8.916s CPU time.\n> ░░ Subject: Resources consumed by unit runtime\n> ░░ Defined-By: systemd\n> ░░ Support: http://www.ubuntu.com/support\n> ░░ \n> ░░ The unit pmcd.service completed and consumed the indicated resources.\n> Oct 12 20:19:49 b9ad04d604ea systemd[1]: Starting Performance Metrics Collector Daemon...\n> ░░ Subject: A start job for unit pmcd.service has begun execution\n> ░░ Defined-By: systemd\n> ░░ Support: http://www.ubuntu.com/support\n> ░░ \n> ░░ A start job for unit pmcd.service has begun execution.\n> ░░ \n> ░░ The job identifier is 34845.\n> Oct 12 20:19:49 b9ad04d604ea systemd[1]: Started Performance Metrics Collector Daemon.\n> ░░ Subject: A start job for unit pmcd.service has finished successfully\n> ░░ Defined-By: systemd\n> ░░ Support: http://www.ubuntu.com/support\n> ░░ \n> ░░ A start job for unit pmcd.service has finished successfully.\n> ░░ \n> ░░ The job identifier is 34845.\n> \n> ++ systemctl status for pmlogger.service ...\n> × pmlogger.service - PCP primary archive logger\n>      Loaded: loaded (/lib/systemd/system/pmlogger.service; enabled; vendor preset: enabled)\n>      Active: failed (Result: protocol) since Sun 2025-10-12 20:20:11 UTC; 20s ago\n>        Docs: man:pmlogger(1)\n>     Process: 1584994 ExecStart=/etc/pcp/pmlogger/rc start-systemd (code=exited, status=0/SUCCESS)\n>    Main PID: 1584994 (code=exited, status=0/SUCCESS)\n>         CPU: 1.682s\n> \n> ++ last 4 journal entries for pmlogger.service\n> Oct 12 20:19:49 b9ad04d604ea systemd[1]: Starting PCP primary archive logger...\n> ░░ Subject: A start job for unit pmlogger.service has begun execution\n> ░░ Defined-By: systemd\n","time":{"start":1760300346000,"stop":1760300458000,"duration":112000}},{"uid":"eed1ff4016581bbd","reportUrl":"https://performancecopilot.github.io/qa-reports/reports/20251011_211711-347a464a//#testresult/eed1ff4016581bbd","status":"passed","statusDetails":"","time":{"start":1760213926000,"stop":1760213956000,"duration":30000}}]},"tags":[]},"source":"bc25b872c00a6776.json","parameterValues":[]}