-- initial test for IB support --
[Sat Feb 21 21:12:59] pminfo(1974858) Info: No IB ports found to monitor

infiniband.hca.numports
    Data Type: 32-bit int  InDom: 91.0 0x16c00000
    Semantics: discrete  Units: none
== Testing InfiniBand PMDA with mock libraries - ib-root-001.tgz ==
=== HCA (Host Channel Adapter) metrics ===
Unknown parameter 'mlx5_1'.

infiniband.hca.numports PMID: 91.0.2 [Number of ports on HCA]
    Data Type: 32-bit int  InDom: 91.0 0x16c00000
    Semantics: discrete  Units: none
Help:
Number of ports on HCA
    inst [0 or "mlx5_0"] value 1
    inst [1 or "mlx5_1"] value 2

infiniband.hca.res.pd PMID: 91.0.19 [Protection domains allocated]
    Data Type: 64-bit unsigned int  InDom: 91.0 0x16c00000
    Semantics: discrete  Units: none
Help:
Number of protection domains currently allocated on this HCA.
    inst [0 or "mlx5_0"] value 1
=== Port state metrics ===

infiniband.port.state PMID: 91.0.10 [Port's state]
    Data Type: string  InDom: 91.1 0x16c00001
    Semantics: discrete  Units: none
Help:
Port's state - can be Active, Down, NoChange, Armed or Initialize
    inst [0 or "mlx5_1:1"] value "Active"
=== Port performance counters ===

infiniband.port.in.bytes PMID: 91.1.0 [Bytes received]
    Data Type: 64-bit int  InDom: 91.1 0x16c00001
    Semantics: counter  Units: byte
Help:
Counter of data octets received on all VLs at the port. This 
includes all octets between (and not including) the start of 
packet delimiter and the VCRC, and may include packets containing errors.
It excludes all link packets. 

This counter is implemented by sampling underlying saturating PortRcvData 
counter. When a value of saturated counter reaches predefined threshold,
the counter is reset after its value is copied into internal state.
    inst [0 or "mlx5_1:1"] value 3950617284

infiniband.port.out.bytes PMID: 91.1.2 [Bytes transmitted]
    Data Type: 64-bit int  InDom: 91.1 0x16c00001
    Semantics: counter  Units: byte
Help:
Counter of data octets, transmitted on all VLs from the port. This 
includes all octets between (and not including) the start of 
packet delimiter and the VCRC, and may include packets containing errors.
It excludes all link packets. 

This counter is implemented by sampling underlying saturating PortXmtData 
counter. When a value of saturated counter reaches predefined threshold,
the counter is reset after its value is copied into internal state.
    inst [0 or "mlx5_1:1"] value 493827156
=== Sysfs-based metrics ===

infiniband.hca.board_id PMID: 91.0.17 [HCA board identifier]
    Data Type: string  InDom: 91.0 0x16c00000
    Semantics: discrete  Units: none
Help:
Board identifier string from the HCA hardware, typically the model number.
    inst [0 or "mlx5_0"] value "MT4099"
    inst [1 or "mlx5_1"] value "MT4119"

infiniband.port.node_desc PMID: 91.0.33 [Node description]
    Data Type: string  InDom: 91.1 0x16c00001
    Semantics: discrete  Units: none
Help:
Text description of the node this port belongs to.
    inst [0 or "mlx5_1:1"] value "mlx5_1 Mellanox ConnectX-5"

== done

== Testing InfiniBand PMDA with mock libraries - ib-root-002.tgz ==
=== HCA (Host Channel Adapter) metrics ===
Unknown parameter 'mlx5_1'.

infiniband.hca.numports PMID: 91.0.2 [Number of ports on HCA]
    Data Type: 32-bit int  InDom: 91.0 0x16c00000
    Semantics: discrete  Units: none
Help:
Number of ports on HCA
    inst [0 or "mlx5_0"] value 1
    inst [1 or "mlx5_1"] value 2

infiniband.hca.res.pd PMID: 91.0.19 [Protection domains allocated]
    Data Type: 64-bit unsigned int  InDom: 91.0 0x16c00000
    Semantics: discrete  Units: none
Help:
Number of protection domains currently allocated on this HCA.
    inst [0 or "mlx5_0"] value 1
=== Port state metrics ===

infiniband.port.state PMID: 91.0.10 [Port's state]
    Data Type: string  InDom: 91.1 0x16c00001
    Semantics: discrete  Units: none
Help:
Port's state - can be Active, Down, NoChange, Armed or Initialize
    inst [0 or "mlx5_1:1"] value "Active"
=== Port performance counters ===

infiniband.port.in.bytes PMID: 91.1.0 [Bytes received]
    Data Type: 64-bit int  InDom: 91.1 0x16c00001
    Semantics: counter  Units: byte
Help:
Counter of data octets received on all VLs at the port. This 
includes all octets between (and not including) the start of 
packet delimiter and the VCRC, and may include packets containing errors.
It excludes all link packets. 

This counter is implemented by sampling underlying saturating PortRcvData 
counter. When a value of saturated counter reaches predefined threshold,
the counter is reset after its value is copied into internal state.
    inst [0 or "mlx5_1:1"] value 3950617284

infiniband.port.out.bytes PMID: 91.1.2 [Bytes transmitted]
    Data Type: 64-bit int  InDom: 91.1 0x16c00001
    Semantics: counter  Units: byte
Help:
Counter of data octets, transmitted on all VLs from the port. This 
includes all octets between (and not including) the start of 
packet delimiter and the VCRC, and may include packets containing errors.
It excludes all link packets. 

This counter is implemented by sampling underlying saturating PortXmtData 
counter. When a value of saturated counter reaches predefined threshold,
the counter is reset after its value is copied into internal state.
    inst [0 or "mlx5_1:1"] value 493827156
=== Sysfs-based metrics ===

infiniband.hca.board_id PMID: 91.0.17 [HCA board identifier]
    Data Type: string  InDom: 91.0 0x16c00000
    Semantics: discrete  Units: none
Help:
Board identifier string from the HCA hardware, typically the model number.
    inst [0 or "mlx5_0"] value "MT4099"
    inst [1 or "mlx5_1"] value "MT4119"

infiniband.port.node_desc PMID: 91.0.33 [Node description]
    Data Type: string  InDom: 91.1 0x16c00001
    Semantics: discrete  Units: none
Help:
Text description of the node this port belongs to.
    inst [0 or "mlx5_1:1"] value "mlx5_1 Mellanox ConnectX-5"

== done

