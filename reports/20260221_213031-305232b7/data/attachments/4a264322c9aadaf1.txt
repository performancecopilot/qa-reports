QA output created by 1770
Creating temporary sasldb, add some usernames to it
Verify saslpasswd2 has successfully added new users
USER@HOST: userPassword
remoteuser@HOST: userPassword
Ensure pmcd can read the password file
New pmdaproc config without any authentication
New pmdaproc config with remote authentication
New pmdaproc config with mapped authentication
Start pmcd with this shiny new sasldb and no access
Start pmproxy with mandatory authentication

=== Establish context for an unauthenticated user ===
{
    "context": "CONTEXT"
    "source": "SOURCE"
    "hostspec": "HOSTSPEC"
    "labels": {
        "domainname": "DOMAINNAME"
        "hostname": "HOSTNAME"
        "machineid": "MACHINEID"
    }
}

=== I/O metric access using unauthenticated context ===
{
    "context": "CONTEXT"
    "timestamp": "TIMESTAMP"
    "values": [
        {
            "pmid": "3.32.5",
            "name": "proc.io.write_bytes",
            "instances": [            ]
        }
    ]
}
NO VALUES

Restart pmcd with this sasldb and remote auth mode

=== Establish context for authenticated local user ===
{
    "context": "CONTEXT"
    "source": "SOURCE"
    "hostspec": "HOSTSPEC"
    "labels": {
        "domainname": "DOMAINNAME"
        "groupid": GID
        "hostname": "HOSTNAME"
        "machineid": "MACHINEID"
        "userid": UID
    }
}

=== I/O metric local user access using authenticated context ===
{
    "context": "CONTEXT"
    "timestamp": "TIMESTAMP"
    "values": [
        {
            "pmid": "3.32.5",
            "name": "proc.io.write_bytes",
            "instances": [  ...
            ]
        }
    ]
}
GOOD VALUES


=== Establish context for authenticated remote user ===
{
    "context": "CONTEXT"
    "source": "SOURCE"
    "hostspec": "HOSTSPEC"
    "labels": {
        "domainname": "DOMAINNAME"
        "hostname": "HOSTNAME"
        "machineid": "MACHINEID"
    }
}

=== I/O metric remote user access using authenticated context ===
{
    "context": "CONTEXT"
    "timestamp": "TIMESTAMP"
    "values": [
        {
            "pmid": "3.32.5",
            "name": "proc.io.write_bytes",
            "instances": [  ...
            ]
        }
    ]
}
GOOD VALUES

Restart pmcd with this sasldb and mapped auth mode

=== Establish context for authenticated user ===
{
    "context": "CONTEXT"
    "source": "SOURCE"
    "hostspec": "HOSTSPEC"
    "labels": {
        "domainname": "DOMAINNAME"
        "groupid": GID
        "hostname": "HOSTNAME"
        "machineid": "MACHINEID"
        "userid": UID
    }
}

=== I/O metric access using mapped authentication ===
{
    "context": "CONTEXT"
    "timestamp": "TIMESTAMP"
    "values": [
        {
            "pmid": "3.32.5",
            "name": "proc.io.write_bytes",
            "instances": [  ...
            ]
        }
    ]
}
GOOD VALUES

Sat Feb 21 21:09:59 UTC 2026
Arrgh ... pmcd at localhost failed to start after 20 seconds
=== failing pmprobes stdout ===
-- 0 --
-- 1 --
-- 2 --
-- 3 --
-- 4 --
-- 5 --
-- 6 --
-- 7 --
-- 8 --
-- 9 --
-- 10 --
-- 11 --
-- 12 --
-- 13 --
-- 14 --
-- 15 --
-- 16 --
-- 17 --
-- 18 --
-- 19 --
=== failing pmprobes stderr ===
-- 0 --
pmprobe: Cannot connect to PMCD on host "localhost": Connection refused
-- 1 --
pmprobe: Cannot connect to PMCD on host "localhost": Connection refused
-- 2 --
pmprobe: Cannot connect to PMCD on host "localhost": Connection refused
-- 3 --
pmprobe: Cannot connect to PMCD on host "localhost": Connection refused
-- 4 --
pmprobe: Cannot connect to PMCD on host "localhost": Connection refused
-- 5 --
pmprobe: Cannot connect to PMCD on host "localhost": Connection refused
-- 6 --
pmprobe: Cannot connect to PMCD on host "localhost": Connection refused
-- 7 --
pmprobe: Cannot connect to PMCD on host "localhost": Connection refused
-- 8 --
pmprobe: Cannot connect to PMCD on host "localhost": Connection refused
-- 9 --
pmprobe: Cannot connect to PMCD on host "localhost": Connection refused
-- 10 --
pmprobe: Cannot connect to PMCD on host "localhost": Connection refused
-- 11 --
pmprobe: Cannot connect to PMCD on host "localhost": Connection refused
-- 12 --
pmprobe: Cannot connect to PMCD on host "localhost": Connection refused
-- 13 --
pmprobe: Cannot connect to PMCD on host "localhost": Connection refused
-- 14 --
pmprobe: Cannot connect to PMCD on host "localhost": Connection refused
-- 15 --
pmprobe: Cannot connect to PMCD on host "localhost": Connection refused
-- 16 --
pmprobe: Cannot connect to PMCD on host "localhost": Connection refused
-- 17 --
pmprobe: Cannot connect to PMCD on host "localhost": Connection refused
-- 18 --
pmprobe: Cannot connect to PMCD on host "localhost": Connection refused
-- 19 --
pmprobe: Cannot connect to PMCD on host "localhost": Connection refused
... and now
+ pmprobe -n /var/lib/pcp/pmns/root_pmcd -h localhost pmcd.numclients
pmprobe: Cannot connect to PMCD on host "localhost": Connection refused
=== triage for pmcd ===
--- start pmcd.log.prev ---
Log for pmcd on runnervmwffz4 started Sat Feb 21 21:09:36 2026


active agent dom   pid  in out ver protocol parameters
============ === ===== === === === ======== ==========
root           1 1771074   6   7   2 bin pipe cmd=/var/lib/pcp/pmdas/root/pmdaroot
pmcd           2                 4 dso i:6  lib=/var/lib/pcp/pmdas/pmcd/pmda_pmcd.so entry=pmcd_init [0x7fe7ba065d80]
proc           3 1771075   9  10   2 bin pipe cmd=/var/lib/pcp/pmdas/proc/pmdaproc -d 3
pmproxy        4                 4 dso i:7  lib=/var/lib/pcp/pmdas/mmv/pmda_mmv.so entry=pmproxy_init [0x7fe7b9e192c0]
xfs           11 1771076  11  12   2 bin pipe cmd=/var/lib/pcp/pmdas/xfs/pmdaxfs -d 11
sample        29 1771077  13  14   2 bin pipe cmd=/var/lib/pcp/pmdas/sample/pmdasample -d 29
sampledso     30                 4 dso i:7  lib=/var/lib/pcp/pmdas/sample/pmda_sample.so entry=sample_init [0x7fe7b9309080]
linux         60 1771078  15  16   2 bin pipe cmd=/var/lib/pcp/pmdas/linux/pmdalinux
nfsclient     62 1771079  17  18   2 bin pipe cmd=/usr/bin/python3 /var/lib/pcp/pmdas/nfsclient/pmdanfsclient.python
mmv           70                 4 dso i:7  lib=/var/lib/pcp/pmdas/mmv/pmda_mmv.so entry=mmv_init [0x7fe7b9e19310]
kvm           95 1771083  19  20   2 bin pipe cmd=/var/lib/pcp/pmdas/kvm/pmdakvm -d 95
jbd2         122                 4 dso i:4  lib=/var/lib/pcp/pmdas/jbd2/pmda_jbd2.so entry=jbd2_init [0x7fe7b92f9ce0]
dm           129 1771084  21  22   2 bin pipe cmd=/var/lib/pcp/pmdas/dm/pmdadm -d 129
openmetrics  144 1771085  23  24   2 bin pipe cmd=/usr/bin/python3 /var/lib/pcp/pmdas/openmetrics/pmdaopenmetrics.python
opentelemetry 164 1771089  25  26   2 bin pipe cmd=/usr/bin/python3 /var/lib/pcp/pmdas/opentelemetry/pmdaopentelemetry.python
simple       253 1771098  27  28   2 bin pipe cmd=/var/lib/pcp/pmdas/simple/pmdasimple -d 253

Host access list:
00 01 Cur/MaxCons host-spec                               host-mask                               lvl host-name
== == =========== ======================================= ======================================= === ==============
 y  y     0     0 127.0.1.1                               255.255.255.255                           0 localhost
 y  y     0     0 10.1.0.110                              255.255.255.255                           0 localhost
 y  y     0     0 /                                       /                                         1 unix:
    n     0     0 0.0.0.0                                 0.0.0.0                                   4 .*
    n     0     0 ::                                      ::                                        8 :*
User access list empty: user-based access control turned off
Group access list empty: group-based access control turned off


pmcd: PID = 1771071, PDU version = 2
pmcd request port(s):
  sts fd   port  family address
  === ==== ===== ====== =======
  ok     4       unix   /run/pcp/pmcd.socket
  ok     0 44321 inet   INADDR_ANY
  ok     3 44321 ipv6   INADDR_ANY
[Sat Feb 21 21:09:36] pmcd(1771071) Info: PMNS file "DEFAULT" is unchanged
[Sat Feb 21 21:09:36] pmcd(1771071) Info: Successful authentication for user "pcpqa"
[Sat Feb 21 21:09:36] pmcd(1771071) Info: Successful authentication for user "remoteuser"
[Sat Feb 21 21:09:36] pmcd(1771071) Info: pmcd caught SIGTERM from pid=1771619 uid=0
[Sat Feb 21 21:09:36] pmcd(1771071) Info: CleanupAgent ...
Cleanup "proc" agent (dom 3): terminated, exit(0)

->PMCD event trace: starting at Sat Feb 21 21:09:36 2026
->         Xmit: PROFILE PDU, fd=17
->         Xmit: FETCH PDU, fd=17, numpmid=2
->         Xmit: PROFILE PDU, fd=19
->         Xmit: FETCH PDU, fd=19, numpmid=1
->         Xmit: PROFILE PDU, fd=21
->         Xmit: FETCH PDU, fd=21, numpmid=3
->         Xmit: PROFILE PDU, fd=23
->         Xmit: FETCH PDU, fd=23, numpmid=1
->         Xmit: PROFILE PDU, fd=25
->         Xmit: FETCH PDU, fd=25, numpmid=1
->         Recv: RESULT PDU, fd=12, pdubuf=0x...17471210
->         Recv: RESULT PDU, fd=18, pdubuf=0x...17471210
->         Recv: RESULT PDU, fd=26, pdubuf=0x...17471210
->         Recv: RESULT PDU, fd=20, pdubuf=0x...17473630
->         Recv: RESULT PDU, fd=24, pdubuf=0x...17473630
->         Recv: RESULT PDU, fd=16, pdubuf=0x...17473630
->         Recv: RESULT PDU, fd=22, pdubuf=0x...17473630
->         Recv: RESULT PDU, fd=10, pdubuf=0x...17473630
->         Xmit: HIGHRES_FETCH PDU, fd=31, numpmid=134
->         Drop PMDA: domain=3, infd=9, outfd=10

[Sat Feb 21 21:09:36] pmcd(1771071) Info: CleanupAgent ...
Cleanup "sample" agent (dom 29): terminated, exit(0)

->PMCD event trace: starting at Sat Feb 21 21:09:36 2026
->         Drop PMDA: domain=29, infd=13, outfd=14

[Sat Feb 21 21:09:36] pmcd(1771071) Info: CleanupAgent ...
Cleanup "kvm" agent (dom 95): terminated, exit(0)

->PMCD event trace: starting at Sat Feb 21 21:09:36 2026
->         Drop PMDA: domain=95, infd=19, outfd=20

[Sat Feb 21 21:09:36] pmcd(1771071) Info: CleanupAgent ...
Cleanup "simple" agent (dom 253): terminated, exit(0)

->PMCD event trace: starting at Sat Feb 21 21:09:36 2026
->         Drop PMDA: domain=253, infd=27, outfd=28

[Sat Feb 21 21:09:36] pmcd(1771071) Info: CleanupAgent ...
Cleanup "nfsclient" agent (dom 62): terminated, exit(0)

->PMCD event trace: starting at Sat Feb 21 21:09:36 2026
->         Drop PMDA: domain=62, infd=17, outfd=18

[Sat Feb 21 21:09:36] pmcd(1771071) Info: CleanupAgent ...
Cleanup "opentelemetry" agent (dom 164): terminated, exit(0)

->PMCD event trace: starting at Sat Feb 21 21:09:36 2026
->         Drop PMDA: domain=164, infd=25, outfd=26

[Sat Feb 21 21:09:36] pmcd(1771071) Info: CleanupAgent ...
Cleanup "openmetrics" agent (dom 144): terminated, exit(0)

->PMCD event trace: starting at Sat Feb 21 21:09:36 2026
->         Drop PMDA: domain=144, infd=23, outfd=24

[Sat Feb 21 21:09:37] pmcd(1771071) Info: __pmProcessTerminate(389956336) failed: No such process
[Sat Feb 21 21:09:37] pmcd(1771071) Info: __pmProcessTerminate(389948064) failed: No such process
[Sat Feb 21 21:09:37] pmcd(1771071) Info: pmdaRootProcessTerminate(..., 1771076) failed: Operation not permitted
[Sat Feb 21 21:09:37] pmcd(1771071) Info: __pmProcessTerminate(389960624) failed: No such process
[Sat Feb 21 21:09:37] pmcd(1771071) Info: pmdaRootProcessTerminate(..., 1771078) failed: Operation not permitted
[Sat Feb 21 21:09:37] pmcd(1771071) Info: __pmProcessTerminate(390314144) failed: No such process
[Sat Feb 21 21:09:37] pmcd(1771071) Info: __pmProcessTerminate(390311312) failed: No such process
[Sat Feb 21 21:09:37] pmcd(1771071) Info: pmdaRootProcessTerminate(..., 1771084) failed: Operation not permitted
[Sat Feb 21 21:09:37] pmcd(1771071) Info: __pmProcessTerminate(1771074) failed: Operation not permitted
[Sat Feb 21 21:09:37] pmcd(1771071) Info: pmcd Shutdown

Log finished Sat Feb 21 21:09:37 2026
--- end pmcd.log.prev ---
--- start pmcd.log ---
Log for pmcd on runnervmwffz4 started Sat Feb 21 21:09:37 2026


active agent dom   pid  in out ver protocol parameters
============ === ===== === === === ======== ==========
root           1 1772711   6   7   2 bin pipe cmd=/var/lib/pcp/pmdas/root/pmdaroot
pmcd           2                 4 dso i:6  lib=/var/lib/pcp/pmdas/pmcd/pmda_pmcd.so entry=pmcd_init [0x7f733cdd8d80]
proc           3 1772712   9  10   2 bin pipe cmd=/var/lib/pcp/pmdas/proc/pmdaproc -d 3
pmproxy        4                 4 dso i:7  lib=/var/lib/pcp/pmdas/mmv/pmda_mmv.so entry=pmproxy_init [0x7f733c9792c0]
xfs           11 1772713  11  12   2 bin pipe cmd=/var/lib/pcp/pmdas/xfs/pmdaxfs -d 11
sample        29 1772714  13  14   2 bin pipe cmd=/var/lib/pcp/pmdas/sample/pmdasample -d 29
sampledso     30                 4 dso i:7  lib=/var/lib/pcp/pmdas/sample/pmda_sample.so entry=sample_init [0x7f733c967080]
linux         60 1772715  15  16   2 bin pipe cmd=/var/lib/pcp/pmdas/linux/pmdalinux
nfsclient     62 1772716  17  18   2 bin pipe cmd=/usr/bin/python3 /var/lib/pcp/pmdas/nfsclient/pmdanfsclient.python
mmv           70                 4 dso i:7  lib=/var/lib/pcp/pmdas/mmv/pmda_mmv.so entry=mmv_init [0x7f733c979310]
kvm           95 1772720  19  20   2 bin pipe cmd=/var/lib/pcp/pmdas/kvm/pmdakvm -d 95
jbd2         122                 4 dso i:4  lib=/var/lib/pcp/pmdas/jbd2/pmda_jbd2.so entry=jbd2_init [0x7f733c94dce0]
dm           129 1772721  21  22   2 bin pipe cmd=/var/lib/pcp/pmdas/dm/pmdadm -d 129
openmetrics  144 1772722  23  24   2 bin pipe cmd=/usr/bin/python3 /var/lib/pcp/pmdas/openmetrics/pmdaopenmetrics.python
opentelemetry 164 1772726  25  26   2 bin pipe cmd=/usr/bin/python3 /var/lib/pcp/pmdas/opentelemetry/pmdaopentelemetry.python
simple       253 1772735  27  28   2 bin pipe cmd=/var/lib/pcp/pmdas/simple/pmdasimple -d 253

Host access list:
00 01 Cur/MaxCons host-spec                               host-mask                               lvl host-name
== == =========== ======================================= ======================================= === ==============
 y  y     0     0 127.0.1.1                               255.255.255.255                           0 localhost
 y  y     0     0 10.1.0.110                              255.255.255.255                           0 localhost
 y  y     0     0 /                                       /                                         1 unix:
    n     0     0 0.0.0.0                                 0.0.0.0                                   4 .*
    n     0     0 ::                                      ::                                        8 :*
User access list empty: user-based access control turned off
Group access list empty: group-based access control turned off


pmcd: PID = 1772708, PDU version = 2
pmcd request port(s):
  sts fd   port  family address
  === ==== ===== ====== =======
  ok     4       unix   /run/pcp/pmcd.socket
  ok     0 44321 inet   INADDR_ANY
  ok     3 44321 ipv6   INADDR_ANY
[Sat Feb 21 21:09:38] pmcd(1772708) Info: PMNS file "DEFAULT" is unchanged
[Sat Feb 21 21:09:38] pmcd(1772708) Info: Successful authentication for user "pcpqa"
[Sat Feb 21 21:09:38] pmcd(1772708) Info: pmcd caught SIGTERM from pid=1773249 uid=0
[Sat Feb 21 21:09:38] pmcd(1772708) Info: CleanupAgent ...
Cleanup "proc" agent (dom 3): terminated, exit(0)

->PMCD event trace: starting at Sat Feb 21 21:09:38 2026
->         Xmit: DESC_REQ PDU, fd=15, pmid=60.35.6
->         Recv: DESC PDU, fd=16, pdubuf=0x...453a1ed0
->         Xmit: DESC_REQ PDU, fd=17, pmid=62.6.7
->         Recv: DESC PDU, fd=18, pdubuf=0x...453a1ed0
->         Xmit: DESC_REQ PDU, fd=15, pmid=60.95.3
->         Recv: DESC PDU, fd=16, pdubuf=0x...453a1ed0
->         Xmit: DESC_REQ PDU, fd=15, pmid=60.0.19
->         Recv: DESC PDU, fd=16, pdubuf=0x...453a1ed0
->         Xmit: DESC_REQ PDU, fd=9, pmid=3.8.23
->         Recv: DESC PDU, fd=10, pdubuf=0x...453a1ed0
->         Xmit: DESC_REQ PDU, fd=15, pmid=60.12.2
->         Recv: DESC PDU, fd=16, pdubuf=0x...453a1ed0
->         Xmit: DESC_REQ PDU, fd=15, pmid=60.71.0
->         Recv: DESC PDU, fd=16, pdubuf=0x...453a1ed0
->         Xmit: DESC_REQ PDU, fd=15, pmid=60.35.5
->         Recv: DESC PDU, fd=16, pdubuf=0x...453a1ed0
->         Xmit: DESC_REQ PDU, fd=11, pmid=11.18.53
->         Recv: DESC PDU, fd=12, pdubuf=0x...453a1ed0
->         Xmit: DESCS PDU, fd=30, numpmid=134
->         Drop PMDA: domain=3, infd=9, outfd=10

[Sat Feb 21 21:09:38] pmcd(1772708) Info: CleanupAgent ...
Cleanup "sample" agent (dom 29): terminated, exit(0)

->PMCD event trace: starting at Sat Feb 21 21:09:38 2026
->         Drop PMDA: domain=29, infd=13, outfd=14

[Sat Feb 21 21:09:38] pmcd(1772708) Info: CleanupAgent ...
Cleanup "kvm" agent (dom 95): terminated, exit(0)

->PMCD event trace: starting at Sat Feb 21 21:09:38 2026
->         Drop PMDA: domain=95, infd=19, outfd=20

[Sat Feb 21 21:09:38] pmcd(1772708) Info: CleanupAgent ...
Cleanup "nfsclient" agent (dom 62): terminated, exit(0)

->PMCD event trace: starting at Sat Feb 21 21:09:38 2026
->         Drop PMDA: domain=62, infd=17, outfd=18

[Sat Feb 21 21:09:38] pmcd(1772708) Info: CleanupAgent ...
Cleanup "opentelemetry" agent (dom 164): terminated, exit(0)

->PMCD event trace: starting at Sat Feb 21 21:09:38 2026
->         Drop PMDA: domain=164, infd=25, outfd=26

[Sat Feb 21 21:09:38] pmcd(1772708) Info: CleanupAgent ...
Cleanup "openmetrics" agent (dom 144): terminated, exit(0)

->PMCD event trace: starting at Sat Feb 21 21:09:38 2026
->         Drop PMDA: domain=144, infd=23, outfd=24

[Sat Feb 21 21:09:38] pmcd(1772708) Info: __pmProcessTerminate(1160848112) failed: No such process
[Sat Feb 21 21:09:38] pmcd(1772708) Info: __pmProcessTerminate(1160839840) failed: No such process
[Sat Feb 21 21:09:38] pmcd(1772708) Info: pmdaRootProcessTerminate(..., 1772713) failed: Operation not permitted
[Sat Feb 21 21:09:38] pmcd(1772708) Info: __pmProcessTerminate(1160852400) failed: No such process
[Sat Feb 21 21:09:38] pmcd(1772708) Info: pmdaRootProcessTerminate(..., 1772715) failed: Operation not permitted
[Sat Feb 21 21:09:38] pmcd(1772708) Info: __pmProcessTerminate(1161205920) failed: No such process
[Sat Feb 21 21:09:38] pmcd(1772708) Info: __pmProcessTerminate(1161203088) failed: No such process
[Sat Feb 21 21:09:38] pmcd(1772708) Info: pmdaRootProcessTerminate(..., 1772721) failed: Operation not permitted
[Sat Feb 21 21:09:38] pmcd(1772708) Info: pmdaRootProcessTerminate(..., 1772735) failed: Operation not permitted
[Sat Feb 21 21:09:38] pmcd(1772708) Info: __pmProcessTerminate(1772711) failed: Operation not permitted
[Sat Feb 21 21:09:38] pmcd(1772708) Info: pmcd Shutdown

Log finished Sat Feb 21 21:09:38 2026
--- end pmcd.log ---
--- there are no likely looking processes!
--- /run/pcp/pmcd.pid is missing
--- UNIX doman socket is missing
--- IP port 44321 user(s) ---
--- start systemctl status for pmcd.service ---
x pmcd.service - Performance Metrics Collector Daemon
     Loaded: loaded (/usr/lib/systemd/system/pmcd.service; enabled; preset: enabled)
     Active: failed (Result: start-limit-hit) since Sat 2026-02-21 21:09:39 UTC; 20s ago
   Duration: 191ms
       Docs: man:pmcd(1)
    Process: 1772708 ExecStart=/etc/init.d/pmcd start-systemd (code=exited, status=0/SUCCESS)
    Process: 1773106 ExecStop=/etc/init.d/pmcd stop-systemd (code=exited, status=0/SUCCESS)
   Main PID: 1772708 (code=exited, status=0/SUCCESS)
        CPU: 1.418s
--- end systemctl status for pmcd.service ---
--- start journalctl entries in last minute for -u pmcd ---
Hint: You are currently not seeing messages from other users and the system.
      Users in groups 'adm', 'systemd-journal' can see all messages.
      Pass -q to turn off this notice.
No journal files were opened due to insufficient permissions.
--- end recent journalctl entries for -u pmcd ---
