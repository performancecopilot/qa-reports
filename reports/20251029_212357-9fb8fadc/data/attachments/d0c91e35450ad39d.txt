
pmcd.pmlogger.archive
    inst [668993 or "668993"] value "/var/log/pcp/pmlogger/runnervmwhb2z/20251029.19.20"
    inst [0 or "primary"] value "/var/log/pcp/pmlogger/runnervmwhb2z/20251029.19.20"
_wait_for_pmlogger() success at iter 1 ...
Connected to primary pmlogger at local:
pmlogger [primary] on host local: is logging metrics from host runnervmwhb2z
PMCD host        runnervmwhb2z
log started      Wed Oct 29 19:20:24.415442599 2025 (times in local time)
last log entry   Wed Oct 29 19:20:24.931939361 2025
current time     Wed Oct 29 19:20:25.937492862 2025
log volume       0
log size         162012
Ping primary logger ...
_try_pmlc: pass @ iter 0
Performance Co-Pilot Logger Control (pmlc), Version 7.0.3

pmlc commands

  show loggers [@<host>]             display <pid>s of running pmloggers
  connect _logger_id [@<host>]       connect to designated pmlogger
  status                             information about connected pmlogger
  query metric-list                  show logging state of metrics
  new volume                         start a new log volume
  disconnect                         disconnect from pmlogger

  log { mandatory | advisory } on <interval> _metric-list
  log { mandatory | advisory } off _metric-list
  log mandatory maybe _metric-list

  timezone local|logger|'<timezone>' change reporting timezone
  help                               print this help message
  sleep <n>                          pause for <n> milliseconds
  quit                               exit from pmlc

  _logger_id   is  primary | <pid> | port <n>
  _metric-list is  _metric-spec | { _metric-spec ... }
  _metric-spec is  <metric-name> | <metric-name> [ <instance> ... ]

pmlc> connect primary
pmlc> 
Expect this should do nothing ...
Start [check]: 2025-10-29 19:20:26.246271662
End [check]: 2025-10-29 19:20:26.948079079 status=0
_try_pmlc: pass @ iter 0
Performance Co-Pilot Logger Control (pmlc), Version 7.0.3

pmlc commands

  show loggers [@<host>]             display <pid>s of running pmloggers
  connect _logger_id [@<host>]       connect to designated pmlogger
  status                             information about connected pmlogger
  query metric-list                  show logging state of metrics
  new volume                         start a new log volume
  disconnect                         disconnect from pmlogger

  log { mandatory | advisory } on <interval> _metric-list
  log { mandatory | advisory } off _metric-list
  log mandatory maybe _metric-list

  timezone local|logger|'<timezone>' change reporting timezone
  help                               print this help message
  sleep <n>                          pause for <n> milliseconds
  quit                               exit from pmlc

  _logger_id   is  primary | <pid> | port <n>
  _metric-list is  _metric-spec | { _metric-spec ... }
  _metric-spec is  <metric-name> | <metric-name> [ <instance> ... ]

pmlc> connect primary
pmlc> 
Kill off primary logger ...
_try_pmlc: fail as expected
Expect this to re-start the primary logger ...
Start [check]: 2025-10-29 19:20:30.294576022
PMLOGGER_CHECK_SKIP_LOGCONF=yes: skip: "/var/lib/pcp/config/pmlogger/config.default" reconfigure
No reconfigure: magic=0 auto-generated=0 skip=1: "/var/lib/pcp/config/pmlogger/config.default" (pmlogconf)
Restarting primary pmlogger for host "local:" ... [process 673538]  done
End [check]: 2025-10-29 19:20:31.506175076 status=0
_try_pmlc: pass @ iter 0
Performance Co-Pilot Logger Control (pmlc), Version 7.0.3

pmlc commands

  show loggers [@<host>]             display <pid>s of running pmloggers
  connect _logger_id [@<host>]       connect to designated pmlogger
  status                             information about connected pmlogger
  query metric-list                  show logging state of metrics
  new volume                         start a new log volume
  disconnect                         disconnect from pmlogger

  log { mandatory | advisory } on <interval> _metric-list
  log { mandatory | advisory } off _metric-list
  log mandatory maybe _metric-list

  timezone local|logger|'<timezone>' change reporting timezone
  help                               print this help message
  sleep <n>                          pause for <n> milliseconds
  quit                               exit from pmlc

  _logger_id   is  primary | <pid> | port <n>
  _metric-list is  _metric-spec | { _metric-spec ... }
  _metric-spec is  <metric-name> | <metric-name> [ <instance> ... ]

pmlc> connect primary
pmlc> 
_wait_for_pmlogger() success at iter 0 ...
Connected to primary pmlogger at local:
pmlogger [primary] on host local: is logging metrics from host runnervmwhb2z
PMCD host        runnervmwhb2z
log started      Wed Oct 29 19:20:32.081248776 2025 (times in local time)
last log entry   Wed Oct 29 19:20:32.081248776 2025
current time     Wed Oct 29 19:20:32.126714910 2025
log volume       0
log size         7796
Kill off primary logger ...
_try_pmlc: fail as expected
Expect this to quietly re-start the primary logger ...
pmlogger_check: Warning: is another PCP cron job running concurrently?
-r--r--r-- 1 pcp pcp 22 Oct 29 19:20 /var/log/pcp/pmlogger/runnervmwhb2z/lock
674404 pmlogger_check
pmlogger_check: [control.d/local:31]
Warning: failed to acquire exclusive lock (/var/log/pcp/pmlogger/runnervmwhb2z/lock) ...
Expect this to get a mutex failure ...
pmlogger_check: Warning: is another PCP cron job running concurrently?
-rw-r--r-- 1 root root 0 Oct 29 19:21 /var/log/pcp/pmlogger/runnervmwhb2z/lock
pmlogger_check: [control.d/local:31]
Warning: failed to acquire exclusive lock (/var/log/pcp/pmlogger/runnervmwhb2z/lock) ...
Expect this to cleanup an old lock file ...
pmlogger_check: [control.d/local:31]
Warning: removing lock file older than 30 minutes
-rw-r--r-- 1 root root 0 Jan  2  1997 /var/log/pcp/pmlogger/runnervmwhb2z/lock
_wait_for_pmlogger() success at iter 0 ...
Connected to primary pmlogger at local:
pmlogger [primary] on host local: is logging metrics from host runnervmwhb2z
PMCD host        runnervmwhb2z
log started      Wed Oct 29 19:22:27.808897241 2025 (times in local time)
last log entry   Wed Oct 29 19:22:28.024686680 2025
current time     Wed Oct 29 19:22:28.343367843 2025
log volume       0
log size         45876
