{"uid":"a56c8d21300d5b77","name":"QA 1147","fullName":"QA #1147 on debian12-container","historyId":"1147@debian12-container","time":{"start":1761164227000,"stop":1761164234000,"duration":7000},"description":"PCP QA Test No. 1147\n\nmutual exclusion for pmlogger init script?\n\nthis version is using systemctl (see 1146 for dual)\n\n\n\nCopyright (c) 2019 Ken McDonell.  All Rights Reserved.\n\n\n\n","descriptionHtml":"<p>PCP QA Test No. 1147</p>\n<p>mutual exclusion for pmlogger init script?</p>\n<p>this version is using systemctl (see 1146 for dual)</p>\n<p>Copyright (c) 2019 Ken McDonell.  All Rights Reserved.</p>\n","status":"passed","statusMessage":"","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[],"afterStages":[],"labels":[{"name":"suite","value":"debian12-container"},{"name":"host","value":"debian12-container"},{"name":"epic","value":"logutil"},{"name":"epic","value":"local"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[{"name":"Source","url":"https://github.com/performancecopilot/pcp/tree/95afa0735ecbcf3fd55f289169282c2a190b1d7c/qa/1147","type":"test_case"},{"name":"Expected output","url":"https://github.com/performancecopilot/pcp/tree/95afa0735ecbcf3fd55f289169282c2a190b1d7c/qa/1147.out","type":"test_case"}],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[],"history":{"statistic":{"failed":1,"broken":3,"skipped":0,"passed":830,"unknown":0,"total":834},"items":[{"uid":"300907fe2cc7a72b","reportUrl":"https://performancecopilot.github.io/qa-reports/reports/20251021_212327-68aa730c//#testresult/300907fe2cc7a72b","status":"passed","statusDetails":"","time":{"start":1761077590000,"stop":1761077596000,"duration":6000}},{"uid":"5b659215270e253f","reportUrl":"https://performancecopilot.github.io/qa-reports/reports/20251020_214124-4482d6ae//#testresult/5b659215270e253f","status":"passed","statusDetails":"","time":{"start":1760991321000,"stop":1760991328000,"duration":7000}},{"uid":"64078c02844358e1","reportUrl":"https://performancecopilot.github.io/qa-reports/reports/20251019_211912-4482d6ae//#testresult/64078c02844358e1","status":"broken","statusDetails":"[failed, exit status 1] - output mismatch (see 1147.out.bad)\n2,9c2,337\n< == 1 ===\n< _service: using systemctl start pmlogger.service\n< == 2 ===\n< _service: using systemctl start pmlogger.service\n< == 3 ===\n< _service: using systemctl start pmlogger.service\n< == 4 ===\n< _service: using systemctl start pmlogger.service\n---\n> Sun Oct 19 20:13:45 UTC 2025\n> Arrgh ... pmlogger (primary) failed to start after 20 seconds\n> at Sun Oct 19 20:13:45 UTC 2025.\n> ++ pmlogger log (/var/log/pcp/pmlogger/722c9d6ae362/pmlogger.log) ...\n> -rw-r--r-- 1 pcp pcp 32305 Oct 19 20:12 /var/log/pcp/pmlogger/722c9d6ae362/pmlogger.log\n> Log for pmlogger on 722c9d6ae362 started Sun Oct 19 20:12:41 2025\n> \n> [Sun Oct 19 20:12:41] pmlogger(1372823) Info: Start\n> preprocessor cmd: /usr/lib/pcp/bin/pmcpp -rs -I /var/lib/pcp/config/pmlogger /var/lib/pcp/config/pmlogger/config.default\n> Config parsed\n> Starting primary logger for host \"722c9d6ae362\" via \"local:\"\n> __pmLogNewFile: \"/var/log/pcp/pmlogger/722c9d6ae362/20251019.20.12.index\" already exists, not over-written\n> __pmLogNewFile: \"/var/log/pcp/pmlogger/722c9d6ae362/20251019.20.12-00.index\" already exists, not over-written\n> Archive basename: /var/log/pcp/pmlogger/722c9d6ae362/20251019.20.12-01\n> \n> Group [85 metrics] {\n> \thinv.nfchost\n> \tkernel.all.pid_max\n>         ...\n> } logged once: 6316 bytes\n> \n> Group [1127 metrics] {\n> \tnetwork.all.out.packets\n> \tnetwork.all.out.bytes\n>         ...\n> } logged every 10 sec: 39184 bytes or 322.87 Mbytes/day\n> \n> Group [3 metrics] {\n> \tproc.memory.rss\n> \tproc.memory.size\n>         ...\n> } logged every 300 sec: 1428 bytes or 0.39 Mbytes/day\n> \n> Group [46 metrics] {\n> \tproc.io.cancelled_write_bytes\n> \tproc.io.write_bytes\n>         ...\n> } logged every 60 sec: 31780 bytes or 43.64 Mbytes/day\n> [Sun Oct 19 20:12:42] pmlogger(1372823) Info: pmlogger: Caught signal 15, exiting\n> \n> Log finished Sun Oct 19 20:12:42 2025\n> \n> ++ previous pmlogger log (/var/log/pcp/pmlogger/722c9d6ae362/pmlogger.log.prev) ...\n> -rw-r--r-- 1 pcp pcp 32195 Oct 19 20:12 /var/log/pcp/pmlogger/722c9d6ae362/pmlogger.log.prev\n> Log for pmlogger on 722c9d6ae362 started Sun Oct 19 20:12:39 2025\n> \n> [Sun Oct 19 20:12:39] pmlogger(1371742) Info: Start\n> preprocessor cmd: /usr/lib/pcp/bin/pmcpp -rs -I /var/lib/pcp/config/pmlogger /var/lib/pcp/config/pmlogger/config.default\n> Config parsed\n> Starting primary logger for host \"722c9d6ae362\" via \"local:\"\n> __pmLogNewFile: \"/var/log/pcp/pmlogger/722c9d6ae362/20251019.20.12.index\" already exists, not over-written\n> Archive basename: /var/log/pcp/pmlogger/722c9d6ae362/20251019.20.12-00\n> \n> Group [85 metrics] {\n> \thinv.nfchost\n> \tkernel.all.pid_max\n>         ...\n> } logged once: 6316 bytes\n> \n> Group [1127 metrics] {\n> \tnetwork.all.out.packets\n> \tnetwork.all.out.bytes\n>         ...\n> } logged every 10 sec: 39184 bytes or 322.87 Mbytes/day\n> \n> Group [3 metrics] {\n> \tproc.memory.rss\n> \tproc.memory.size\n>         ...\n> } logged every 300 sec: 1532 bytes or 0.42 Mbytes/day\n> \n> Group [46 metrics] {\n> \tproc.io.cancelled_write_bytes\n> \tproc.io.write_bytes\n>         ...\n> } logged every 60 sec: 34532 bytes or 47.42 Mbytes/day\n> [Sun Oct 19 20:12:40] pmlogger(1371742) Info: pmlogger: Caught signal 15, exiting\n> \n> Log finished Sun Oct 19 20:12:40 2025\n> ++ /var/log/pcp/pmlogger/pmlogger_janitor.log.prev\n> -rw-r--r-- 1 pcp pcp 101 Oct 19 20:13 /var/log/pcp/pmlogger/pmlogger_janitor.log.prev\n> Start [janitor]: 2025-10-19 20:13:24.933878760\n> End [janitor]: 2025-10-19 20:13:25.071001730 status=0\n> \n> ++ systemctl status for pmcd.service ...\n> ● pmcd.service - Performance Metrics Collector Daemon\n>      Loaded: loaded (/lib/systemd/system/pmcd.service; enabled; preset: enabled)\n>      Active: active (running) since Sun 2025-10-19 20:10:06 UTC; 3min 39s ago\n>        Docs: man:pmcd(1)\n>    Main PID: 1358827 (pmcd)\n>       Tasks: 12 (limit: 307)\n>      Memory: 65.0M\n>         CPU: 4.508s\n>      CGroup: /system.slice/pmcd.service\n>              ├─1358827 /usr/lib/pcp/bin/pmcd -A -T 3 -C 512\n>              ├─1358830 /var/lib/pcp/pmdas/root/pmdaroot\n>              ├─1358831 /var/lib/pcp/pmdas/proc/pmdaproc -d 3\n>              ├─1358832 /var/lib/pcp/pmdas/xfs/pmdaxfs -d 11\n>              ├─1358833 /var/lib/pcp/pmdas/sample/pmdasample -d 29\n>              ├─1358834 /var/lib/pcp/pmdas/linux/pmdalinux\n>              ├─1358835 /usr/bin/python3 /var/lib/pcp/pmdas/nfsclient/pmdanfsclient.python\n>              ├─1358839 /var/lib/pcp/pmdas/kvm/pmdakvm -d 95\n>              ├─1358840 /var/lib/pcp/pmdas/dm/pmdadm -d 129\n>              ├─1358845 /usr/bin/python3 /var/lib/pcp/pmdas/opentelemetry/pmdaopentelemetry.python\n>              ├─1358854 /var/lib/pcp/pmdas/simple/pmdasimple -d 253\n>              └─1361214 /usr/bin/python3 /var/lib/pcp/pmdas/openmetrics/pmdaopenmetrics.python\n> \n> ++ last 4 journal entries for pmcd.service\n> Oct 19 20:10:05 722c9d6ae362 systemd[1]: Stopped pmcd.service - Performance Metrics Collector Daemon.\n> ░░ Subject: A stop job for unit pmcd.service has finished\n> ░░ Defined-By: systemd\n> ░░ Support: https://www.debian.org/support\n> ░░ \n> ░░ A stop job for unit pmcd.service has finished.\n> ░░ \n> ░░ The job identifier is 36590 and the job result is done.\n> Oct 19 20:10:05 722c9d6ae362 systemd[1]: pmcd.service: Consumed 2.718s CPU time.\n> ░░ Subject: Resources consumed by unit runtime\n> ░░ Defined-By: systemd\n> ░░ Support: https://www.debian.org/support\n> ░░ \n> ░░ The unit pmcd.service completed and consumed the indicated resources.\n> Oct 19 20:10:05 722c9d6ae362 systemd[1]: Starting pmcd.service - Performance Metrics Collector Daemon...\n> ░░ Subject: A start job for unit pmcd.service has begun execution\n> ░░ Defined-By: systemd\n> ░░ Support: https://www.debian.org/support\n> ░░ \n> ░░ A start job for unit pmcd.service has begun execution.\n> ░░ \n> ░░ The job identifier is 36590.\n> Oct 19 20:10:06 722c9d6ae362 systemd[1]: Started pmcd.service - Performance Metrics Collector Daemon.\n> ░░ Subject: A start job for unit pmcd.service has finished successfully\n> ░░ Defined-By: systemd\n> ░░ Support: https://www.debian.org/support\n> ░░ \n> ░░ A start job for unit pmcd.service has finished successfully.\n> ░░ \n> ░░ The job identifier is 36590.\n> \n> ++ systemctl status for pmlogger.service ...\n> × pmlogger.service - PCP primary archive logger\n>      Loaded: loaded (/lib/systemd/system/pmlogger.service; enabled; preset: enabled)\n>      Active: failed (Result: protocol) since Sun 2025-10-19 20:13:25 UTC; 20s ago\n>    Duration: 601ms\n>        Docs: man:pmlogger(1)\n>     Process: 1374591 ExecStart=/etc/pcp/pmlogger/rc start-systemd (code=exited, status=0/SUCCESS)\n>    Main PID: 1374591 (code=exited, status=0/SUCCESS)\n>         CPU: 1.736s\n> \n> ++ last 4 journal entries for pmlogger.service\n> Oct 19 20:13:03 722c9d6ae362 systemd[1]: Starting pmlogger.service - PCP primary archive logger...\n> ░░ Subject: A start job for unit pmlogger.service has begun execution\n> ░░ Defined-By: systemd\n> ░░ Support: https://www.debian.org/support\n> ░░ \n> ░░ A start job for unit pmlogger.service has begun execution.\n> ░░ \n> ░░ The job identifier is 37146.\n> Oct 19 20:13:25 722c9d6ae362 systemd[1]: pmlogger.service: Failed with result 'protocol'.\n> ░░ Subject: Unit failed\n> ░░ Defined-By: systemd\n> ░░ Support: https://www.debian.org/support\n> ░░ \n> ░░ The unit pmlogger.service has entered the 'failed' state with result 'protocol'.\n> Oct 19 20:13:25 722c9d6ae362 systemd[1]: Failed to start pmlogger.service - PCP primary archive logger.\n> ░░ Subject: A start job for unit pmlogger.service has failed\n> ░░ Defined-By: systemd\n> ░░ Support: https://www.debian.org/support\n> ░░ \n> ░░ A start job for unit pmlogger.service has finished with a failure.\n> ░░ \n> ░░ The job identifier is 37146 and the job result is failed.\n> Oct 19 20:13:25 722c9d6ae362 systemd[1]: pmlogger.service: Consumed 1.736s CPU time.\n> ░░ Subject: Resources consumed by unit runtime\n> ░░ Defined-By: systemd\n> ░░ Support: https://www.debian.org/support\n> ░░ \n> ░░ The unit pmlogger.service completed and consumed the indicated resources.\n> \n> ++ systemctl status for pmlogger_farm.service ...\n> ● pmlogger_farm.service - pmlogger farm service\n>      Loaded: loaded (/lib/systemd/system/pmlogger_farm.service; disabled; preset: enabled)\n>      Active: active (running) since Sun 2025-10-19 20:13:25 UTC; 20s ago\n>        Docs: man:pmlogger_check(1)\n>    Main PID: 1375853 (pmpause)\n>       Tasks: 1 (limit: 307)\n>      Memory: 876.0K\n>         CPU: 498ms\n>      CGroup: /system.slice/pmlogger_farm.service\n>              └─1375853 /usr/lib/pcp/bin/pmpause\n> \n> ++ last 4 journal entries for pmlogger_farm.service\n> Oct 19 20:12:42 722c9d6ae362 systemd[1]: pmlogger_farm.service: Deactivated successfully.\n> ░░ Subject: Unit succeeded\n> ░░ Defined-By: systemd\n> ░░ Support: https://www.debian.org/support\n> ░░ \n> ░░ The unit pmlogger_farm.service has successfully entered the 'dead' state.\n> Oct 19 20:12:42 722c9d6ae362 systemd[1]: Stopped pmlogger_farm.service - pmlogger farm service.\n> ░░ Subject: A stop job for unit pmlogger_farm.service has finished\n> ░░ Defined-By: systemd\n> ░░ Support: https://www.debian.org/support\n> ░░ \n> ░░ A stop job for unit pmlogger_farm.service has finished.\n> ░░ \n> ░░ The job identifier is 37133 and the job result is done.\n> Oct 19 20:13:25 722c9d6ae362 systemd[1]: Starting pmlogger_farm.service - pmlogger farm service...\n> ░░ Subject: A start job for unit pmlogger_farm.service has begun execution\n> ░░ Defined-By: systemd\n> ░░ Support: https://www.debian.org/support\n> ░░ \n> ░░ A start job for unit pmlogger_farm.service has begun execution.\n> ░░ \n> ░░ The job identifier is 37212.\n> Oct 19 20:13:25 722c9d6ae362 systemd[1]: Started pmlogger_farm.service - pmlogger farm service.\n> ░░ Subject: A start job for unit pmlogger_farm.service has finished successfully\n> ░░ Defined-By: systemd\n> ░░ Support: https://www.debian.org/support\n> ░░ \n> ░░ A start job for unit pmlogger_farm.service has finished successfully.\n> ░░ \n> ░░ The job identifier is 37212.\n","time":{"start":1760904760000,"stop":1760904827000,"duration":67000}},{"uid":"bb66d3b282162ea7","reportUrl":"https://performancecopilot.github.io/qa-reports/reports/20251018_211924-46969761//#testresult/bb66d3b282162ea7","status":"passed","statusDetails":"","time":{"start":1760818318000,"stop":1760818325000,"duration":7000}},{"uid":"a9713d65dc0cc0a7","reportUrl":"https://performancecopilot.github.io/qa-reports/reports/20251017_211904-46969761//#testresult/a9713d65dc0cc0a7","status":"passed","statusDetails":"","time":{"start":1760731919000,"stop":1760731924000,"duration":5000}},{"uid":"f79d15f803f86c99","reportUrl":"https://performancecopilot.github.io/qa-reports/reports/20251016_212852-46969761//#testresult/f79d15f803f86c99","status":"passed","statusDetails":"","time":{"start":1760645634000,"stop":1760645639000,"duration":5000}},{"uid":"c760d07727c8865d","reportUrl":"https://performancecopilot.github.io/qa-reports/reports/20251015_212253-ba09268c//#testresult/c760d07727c8865d","status":"passed","statusDetails":"","time":{"start":1760559280000,"stop":1760559286000,"duration":6000}},{"uid":"d325394dbd4a6dd8","reportUrl":"https://performancecopilot.github.io/qa-reports/reports/20251015_004011-0d24eb97//#testresult/d325394dbd4a6dd8","status":"passed","statusDetails":"","time":{"start":1760474086000,"stop":1760474091000,"duration":5000}},{"uid":"842666d804683abb","reportUrl":"https://performancecopilot.github.io/qa-reports/reports/20251013_212512-84bf35c4//#testresult/842666d804683abb","status":"passed","statusDetails":"","time":{"start":1760386567000,"stop":1760386573000,"duration":6000}},{"uid":"53f133964a49d795","reportUrl":"https://performancecopilot.github.io/qa-reports/reports/20251012_212220-58609e1a//#testresult/53f133964a49d795","status":"passed","statusDetails":"","time":{"start":1760299833000,"stop":1760299839000,"duration":6000}},{"uid":"b7bb4e2c7c2e2d4a","reportUrl":"https://performancecopilot.github.io/qa-reports/reports/20251011_211711-347a464a//#testresult/b7bb4e2c7c2e2d4a","status":"passed","statusDetails":"","time":{"start":1760213381000,"stop":1760213386000,"duration":5000}},{"uid":"bce6c3643d790c80","reportUrl":"https://performancecopilot.github.io/qa-reports/reports/20251011_021431-ab10ad19//#testresult/bce6c3643d790c80","status":"passed","statusDetails":"","time":{"start":1760130268000,"stop":1760130274000,"duration":6000}},{"uid":"9927888c6b432a87","reportUrl":"https://performancecopilot.github.io/qa-reports/reports/20251009_224938-09d2f320//#testresult/9927888c6b432a87","status":"passed","statusDetails":"","time":{"start":1760046335000,"stop":1760046342000,"duration":7000}},{"uid":"867ac222fb1d28bf","reportUrl":"https://performancecopilot.github.io/qa-reports/reports/20251007_215511-e38511ec//#testresult/867ac222fb1d28bf","status":"passed","statusDetails":"","time":{"start":1759868082000,"stop":1759868087000,"duration":5000}},{"uid":"13646a57075451bb","reportUrl":"https://performancecopilot.github.io/qa-reports/reports/20251006_223516-1ae23c20//#testresult/13646a57075451bb","status":"passed","statusDetails":"","time":{"start":1759781708000,"stop":1759781714000,"duration":6000}},{"uid":"9c7202612b0d0b33","reportUrl":"https://performancecopilot.github.io/qa-reports/reports/20251005_211611-96be163a//#testresult/9c7202612b0d0b33","status":"passed","statusDetails":"","time":{"start":1759695115000,"stop":1759695120000,"duration":5000}},{"uid":"3c516ac51c03a585","reportUrl":"https://performancecopilot.github.io/qa-reports/reports/20251004_211746-96be163a//#testresult/3c516ac51c03a585","status":"passed","statusDetails":"","time":{"start":1759608687000,"stop":1759608692000,"duration":5000}},{"uid":"219537de4339ff78","reportUrl":"https://performancecopilot.github.io/qa-reports/reports/20251003_222521-96be163a//#testresult/219537de4339ff78","status":"passed","statusDetails":"","time":{"start":1759524616000,"stop":1759524622000,"duration":6000}},{"uid":"f4d8285225f5eef","reportUrl":"https://performancecopilot.github.io/qa-reports/reports/20251002_222200-f5f90973//#testresult/f4d8285225f5eef","status":"passed","statusDetails":"","time":{"start":1759437384000,"stop":1759437389000,"duration":5000}},{"uid":"f38f2f4e14d7a39f","reportUrl":"https://performancecopilot.github.io/qa-reports/reports/20251002_000337-f5f90973//#testresult/f38f2f4e14d7a39f","status":"passed","statusDetails":"","time":{"start":1759358471000,"stop":1759358477000,"duration":6000}}]},"tags":[]},"source":"a56c8d21300d5b77.json","parameterValues":[]}