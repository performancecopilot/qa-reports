QA output created by 662
Traceback (most recent call last):
  File "/usr/lib/python3/dist-packages/urllib3/connectionpool.py", line 705, in urlopen
    httplib_response = self._make_request(
                       ^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3/dist-packages/urllib3/connectionpool.py", line 451, in _make_request
    six.raise_from(e, None)
  File "<string>", line 3, in raise_from
  File "/usr/lib/python3/dist-packages/urllib3/connectionpool.py", line 446, in _make_request
    httplib_response = conn.getresponse()
                       ^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3.11/http/client.py", line 1374, in getresponse
    response.begin()
  File "/usr/lib/python3.11/http/client.py", line 318, in begin
    version, status, reason = self._read_status()
                              ^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3.11/http/client.py", line 287, in _read_status
    raise RemoteDisconnected("Remote end closed connection without"
http.client.RemoteDisconnected: Remote end closed connection without response

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/lib/python3/dist-packages/requests/adapters.py", line 489, in send
    resp = conn.urlopen(
           ^^^^^^^^^^^^^
  File "/usr/lib/python3/dist-packages/urllib3/connectionpool.py", line 789, in urlopen
    retries = retries.increment(
              ^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3/dist-packages/urllib3/util/retry.py", line 552, in increment
    raise six.reraise(type(error), error, _stacktrace)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3/dist-packages/six.py", line 718, in reraise
    raise value.with_traceback(tb)
  File "/usr/lib/python3/dist-packages/urllib3/connectionpool.py", line 705, in urlopen
    httplib_response = self._make_request(
                       ^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3/dist-packages/urllib3/connectionpool.py", line 451, in _make_request
    six.raise_from(e, None)
  File "<string>", line 3, in raise_from
  File "/usr/lib/python3/dist-packages/urllib3/connectionpool.py", line 446, in _make_request
    httplib_response = conn.getresponse()
                       ^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3.11/http/client.py", line 1374, in getresponse
    response.begin()
  File "/usr/lib/python3.11/http/client.py", line 318, in begin
    version, status, reason = self._read_status()
                              ^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3.11/http/client.py", line 287, in _read_status
    raise RemoteDisconnected("Remote end closed connection without"
urllib3.exceptions.ProtocolError: ('Connection aborted.', RemoteDisconnected('Remote end closed connection without response'))

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/var/lib/pcp/testsuite/src/test_webapi.py", line 183, in <module>
    test_metadata(ctx_host,'prefix=sample') # whole shebang
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/var/lib/pcp/testsuite/src/test_webapi.py", line 161, in test_metadata
    req = requests.get(url=url + 'pmapi/'+str(ctx)+'/_metric?'+metrics)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3/dist-packages/requests/api.py", line 73, in get
    return request("get", url, params=params, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3/dist-packages/requests/api.py", line 59, in request
    return session.request(method=method, url=url, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3/dist-packages/requests/sessions.py", line 587, in request
    resp = self.send(prep, **send_kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3/dist-packages/requests/sessions.py", line 701, in send
    r = adapter.send(request, **kwargs)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3/dist-packages/requests/adapters.py", line 547, in send
    raise ConnectionError(err, request=request)
requests.exceptions.ConnectionError: ('Connection aborted.', RemoteDisconnected('Remote end closed connection without response'))
Received PM_CONTEXT_HOST ####
command NOSUCHAPI response code 400
context NOSUCHCONTEXT response code 400
context 0 response code 400
non-pmwebapi response code 400
context #### host metric .* enumeration with pminfo ####
context #### host metric .* enumeration with pmwebinfo ####
context #### host metric .* enumeration match count PASS
context #### host-kernel metric kernel.* enumeration with pminfo ####
context #### host-kernel metric kernel.* enumeration with pmwebinfo ####
context #### host-kernel metric kernel.* enumeration match count PASS
context #### response code 400
context #### fetch names= response code 400
context #### fetch name=no.such.metric response code 400
context #### fetch names=no.such.metric1,pmcd.client.whoami,no.such.metric2 response code 200
timestamps fields:2 len(values[]):1
  metric:pmcd.client.whoami
  with instances
context #### fetch names=sample.event.records response code 200
timestamps fields:2 len(values[]):1
  metric:sample.event.records
  with instances
context #### fetch pmids=121634826,0x740000b response code 200
timestamps fields:2 len(values[]):2
  metric:sample.long.one
  with instances
  metric:sample.long.ten
  with instances
context #### fetch name=keepalive response code 400
context #### fetch names=sample.bogus_bin,sample.sysinfo,sample.byte_rate,sample.ulong.bin response code 200
timestamps fields:2 len(values[]):4
  metric:sample.bogus_bin
  with instances
  metric:sample.byte_rate
  with instances
  metric:sample.sysinfo
  with instances
  metric:sample.ulong.bin
  with instances
context #### fetch names=sample.longlong.bin,,,sample.ulonglong.million,sample.float.hundred response code 200
timestamps fields:2 len(values[]):3
  metric:sample.float.hundred
  with instances
  metric:sample.longlong.bin
  with instances
  metric:sample.ulonglong.million
  with instances
context #### fetch names=sample.double.bin_ctr,sample.aggregate.null,sample.hordes.one response code 200
timestamps fields:2 len(values[]):3
  metric:sample.aggregate.null
  with instances
  metric:sample.double.bin_ctr
  with instances
  metric:sample.hordes.one
  with instances
context #### fetch names=sample.dodgey.value response code 200
timestamps fields:2 len(values[]):1
  metric:sample.dodgey.value
  with instances
context #### fetch pmid=blargh response code 400
context #### metadata prefix=no.such.metric response code 400
context #### metadata prefix=no.such.metric1,pmcd.client.whoami,no.such.metric2 response code 200
len(metrics[]):3
  metric:no.such.metric1 metadata:3
  metric:no.such.metric2 metadata:3
  metric:pmcd.client.whoami metadata:10
