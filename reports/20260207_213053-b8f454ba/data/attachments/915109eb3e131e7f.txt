
pmcd.pmlogger.archive
    inst [492398 or "492398"] value "/var/log/pcp/pmlogger/fe2704e8ad5a/20260207.19.19"
    inst [0 or "primary"] value "/var/log/pcp/pmlogger/fe2704e8ad5a/20260207.19.19"
_wait_for_pmlogger() success at iter 1 ...
Connected to primary pmlogger at local:
pmlogger [primary] on host local: is logging metrics from host fe2704e8ad5a
PMCD host        fe2704e8ad5a
log started      Sat Feb  7 19:20:02.954641106 2026 (times in local time)
last log entry   Sat Feb  7 19:20:03.481682944 2026
current time     Sat Feb  7 19:20:04.489564216 2026
log volume       0
log size         70792
Ping primary logger ...
_try_pmlc: pass @ iter 0
Performance Co-Pilot Logger Control (pmlc), Version 7.1.1

pmlc commands

  show loggers [@<host>]             display <pid>s of running pmloggers
  connect _logger_id [@<host>]       connect to designated pmlogger
  status                             information about connected pmlogger
  query metric-list                  show logging state of metrics
  new volume                         start a new log volume
  disconnect                         disconnect from pmlogger

  log { mandatory | advisory } on <interval> _metric-list
  log { mandatory | advisory } off _metric-list
  log mandatory maybe _metric-list

  timezone local|logger|'<timezone>' change reporting timezone
  help                               print this help message
  sleep <n>                          pause for <n> milliseconds
  quit                               exit from pmlc

  _logger_id   is  primary | <pid> | port <n>
  _metric-list is  _metric-spec | { _metric-spec ... }
  _metric-spec is  <metric-name> | <metric-name> [ <instance> ... ]

pmlc> connect primary
pmlc> 
Expect this should do nothing ...
Start [check]: 2026-02-07 19:20:04.792171262
End [check]: 2026-02-07 19:20:05.378552707 status=0
_try_pmlc: pass @ iter 0
Performance Co-Pilot Logger Control (pmlc), Version 7.1.1

pmlc commands

  show loggers [@<host>]             display <pid>s of running pmloggers
  connect _logger_id [@<host>]       connect to designated pmlogger
  status                             information about connected pmlogger
  query metric-list                  show logging state of metrics
  new volume                         start a new log volume
  disconnect                         disconnect from pmlogger

  log { mandatory | advisory } on <interval> _metric-list
  log { mandatory | advisory } off _metric-list
  log mandatory maybe _metric-list

  timezone local|logger|'<timezone>' change reporting timezone
  help                               print this help message
  sleep <n>                          pause for <n> milliseconds
  quit                               exit from pmlc

  _logger_id   is  primary | <pid> | port <n>
  _metric-list is  _metric-spec | { _metric-spec ... }
  _metric-spec is  <metric-name> | <metric-name> [ <instance> ... ]

pmlc> connect primary
pmlc> 
Kill off primary logger ...
_try_pmlc: fail as expected
Expect this to re-start the primary logger ...
Start [check]: 2026-02-07 19:20:08.690952546
PMLOGGER_CHECK_SKIP_LOGCONF=yes: skip: "/var/lib/pcp/config/pmlogger/config.default" reconfigure
No reconfigure: magic=0 auto-generated=0 skip=1: "/var/lib/pcp/config/pmlogger/config.default" (pmlogconf)
Restarting primary pmlogger for host "local:" ... [process 497193] Warning: _get_pids_by_name: pid=497193: unknown cgroup pattern: 0::/init.scope
UID          PID    PPID  C STIME TTY          TIME CMD
pcp       497193       1  0 19:20 ?        00:00:00 /usr/lib/pcp/bin/pmlogger -N -P -d "/var/log/pcp/pmlogger/LOCALHOSTNAME" -r -T24h10m -c config.default -v 100mb -m pmlogger_check %Y%m%d.%H.%M
pcp       497201  497193  0 19:20 ?        00:00:00 [pmcpp] <defunct>
Warning: _get_pids_by_name: pid=497193: unknown cgroup pattern: 0::/init.scope
UID          PID    PPID  C STIME TTY          TIME CMD
pcp       497193       1 10 19:20 ?        00:00:00 /usr/lib/pcp/bin/pmlogger -N -P -d "/var/log/pcp/pmlogger/LOCALHOSTNAME" -r -T24h10m -c config.default -v 100mb -m pmlogger_check %Y%m%d.%H.%M
 done
End [check]: 2026-02-07 19:20:09.877266921 status=0
_try_pmlc: pass @ iter 0
Performance Co-Pilot Logger Control (pmlc), Version 7.1.1

pmlc commands

  show loggers [@<host>]             display <pid>s of running pmloggers
  connect _logger_id [@<host>]       connect to designated pmlogger
  status                             information about connected pmlogger
  query metric-list                  show logging state of metrics
  new volume                         start a new log volume
  disconnect                         disconnect from pmlogger

  log { mandatory | advisory } on <interval> _metric-list
  log { mandatory | advisory } off _metric-list
  log mandatory maybe _metric-list

  timezone local|logger|'<timezone>' change reporting timezone
  help                               print this help message
  sleep <n>                          pause for <n> milliseconds
  quit                               exit from pmlc

  _logger_id   is  primary | <pid> | port <n>
  _metric-list is  _metric-spec | { _metric-spec ... }
  _metric-spec is  <metric-name> | <metric-name> [ <instance> ... ]

pmlc> connect primary
pmlc> 
_wait_for_pmlogger() success at iter 1 ...
Connected to primary pmlogger at local:
pmlogger [primary] on host local: is logging metrics from host fe2704e8ad5a
PMCD host        fe2704e8ad5a
log started      Sat Feb  7 19:20:10.359884758 2026 (times in local time)
last log entry   Sat Feb  7 19:20:10.891013447 2026
current time     Sat Feb  7 19:20:11.896903068 2026
log volume       0
log size         70804
Kill off primary logger ...
_try_pmlc: fail as expected
Expect this to quietly re-start the primary logger ...
Warning: _get_pids_by_name: pid=499220: unknown cgroup pattern: 0::/init.scope
UID          PID    PPID  C STIME TTY          TIME CMD
pcp       499220       1  0 19:20 ?        00:00:00 /usr/lib/pcp/bin/pmlogger -N -P -d "/var/log/pcp/pmlogger/LOCALHOSTNAME" -r -T24h10m -c config.default -v 100mb -m pmlogger_check %Y%m%d.%H.%M
pcp       499227  499220  0 19:20 ?        00:00:00 [pmcpp] <defunct>
Warning: _get_pids_by_name: pid=499220: unknown cgroup pattern: 0::/init.scope
UID          PID    PPID  C STIME TTY          TIME CMD
pcp       499220       1  0 19:20 ?        00:00:00 /usr/lib/pcp/bin/pmlogger -N -P -d "/var/log/pcp/pmlogger/LOCALHOSTNAME" -r -T24h10m -c config.default -v 100mb -m pmlogger_check %Y%m%d.%H.%M
_try_pmlc: pass @ iter 0
Performance Co-Pilot Logger Control (pmlc), Version 7.1.1

pmlc commands

  show loggers [@<host>]             display <pid>s of running pmloggers
  connect _logger_id [@<host>]       connect to designated pmlogger
  status                             information about connected pmlogger
  query metric-list                  show logging state of metrics
  new volume                         start a new log volume
  disconnect                         disconnect from pmlogger

  log { mandatory | advisory } on <interval> _metric-list
  log { mandatory | advisory } off _metric-list
  log mandatory maybe _metric-list

  timezone local|logger|'<timezone>' change reporting timezone
  help                               print this help message
  sleep <n>                          pause for <n> milliseconds
  quit                               exit from pmlc

  _logger_id   is  primary | <pid> | port <n>
  _metric-list is  _metric-spec | { _metric-spec ... }
  _metric-spec is  <metric-name> | <metric-name> [ <instance> ... ]

pmlc> connect primary
pmlc> 
Expect this to get a mutex failure ...
pmlogger_check: Warning: is another PCP cron job running concurrently?
-rw-r--r-- 1 root root 0 Feb  7 19:20 /var/log/pcp/pmlogger/fe2704e8ad5a/lock
pmlogger_check: [control.d/local:31]
Warning: failed to acquire exclusive lock (/var/log/pcp/pmlogger/fe2704e8ad5a/lock) ...
Expect this to cleanup an old lock file ...
pmlogger_check: [control.d/local:31]
Warning: removing lock file older than 30 minutes
-rw-r--r-- 1 root root 0 Jan  2  1997 /var/log/pcp/pmlogger/fe2704e8ad5a/lock
Warning: _get_pids_by_name: pid=499220: unknown cgroup pattern: 0::/init.scope
UID          PID    PPID  C STIME TTY          TIME CMD
pcp       499220       1  0 19:20 ?        00:00:00 /usr/lib/pcp/bin/pmlogger -N -P -d "/var/log/pcp/pmlogger/LOCALHOSTNAME" -r -T24h10m -c config.default -v 100mb -m pmlogger_check %Y%m%d.%H.%M
_wait_for_pmlogger() success at iter 0 ...
Connected to primary pmlogger at local:
pmlogger [primary] on host local: is logging metrics from host fe2704e8ad5a
PMCD host        fe2704e8ad5a
log started      Sat Feb  7 19:21:02.432900106 2026 (times in local time)
last log entry   Sat Feb  7 19:21:02.883571305 2026
current time     Sat Feb  7 19:21:02.885523617 2026
log volume       0
log size         45612
