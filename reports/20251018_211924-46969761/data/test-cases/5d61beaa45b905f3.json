{"uid":"5d61beaa45b905f3","name":"QA 1221","fullName":"QA #1221 on ubuntu2204-container","historyId":"1221@ubuntu2204-container","time":{"start":1760818809000,"stop":1760818841000,"duration":32000},"description":"PCP QA Test No. 1221\n\ntest pmda openmetrics labels\n\n\n\nNote: if anything gets added or changed in qa/openmetrics/samples directory,\n\nthen this test (and all tests in group pmda.openmetrics) will need to be remade.\n\n\n\nCopyright (c) 2017 Red Hat.  All Rights Reserved.\n\n\n\n","descriptionHtml":"<p>PCP QA Test No. 1221</p>\n<p>test pmda openmetrics labels</p>\n<p>Note: if anything gets added or changed in qa/openmetrics/samples directory,</p>\n<p>then this test (and all tests in group pmda.openmetrics) will need to be remade.</p>\n<p>Copyright (c) 2017 Red Hat.  All Rights Reserved.</p>\n","status":"passed","statusMessage":"","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[],"afterStages":[],"labels":[{"name":"suite","value":"ubuntu2204-container"},{"name":"host","value":"ubuntu2204-container"},{"name":"epic","value":"labels"},{"name":"epic","value":"pmda.openmetrics"},{"name":"epic","value":"local"},{"name":"epic","value":"python"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[{"name":"Source","url":"https://github.com/performancecopilot/pcp/tree/469697616320d0e049710cfb22d72c3cc960e8c4/qa/1221","type":"test_case"},{"name":"Expected output","url":"https://github.com/performancecopilot/pcp/tree/469697616320d0e049710cfb22d72c3cc960e8c4/qa/1221.out","type":"test_case"}],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[],"history":{"statistic":{"failed":1,"broken":1,"skipped":0,"passed":1156,"unknown":0,"total":1158},"items":[{"uid":"8661ce50fdac3781","reportUrl":"https://performancecopilot.github.io/qa-reports/reports/20251017_211904-46969761//#testresult/8661ce50fdac3781","status":"passed","statusDetails":"","time":{"start":1760732395000,"stop":1760732426000,"duration":31000}},{"uid":"f94377717c3e3198","reportUrl":"https://performancecopilot.github.io/qa-reports/reports/20251016_212852-46969761//#testresult/f94377717c3e3198","status":"passed","statusDetails":"","time":{"start":1760646371000,"stop":1760646403000,"duration":32000}},{"uid":"9fb7c2eb6c362577","reportUrl":"https://performancecopilot.github.io/qa-reports/reports/20251015_212253-ba09268c//#testresult/9fb7c2eb6c362577","status":"passed","statusDetails":"","time":{"start":1760559709000,"stop":1760559739000,"duration":30000}},{"uid":"292af4ab759c0590","reportUrl":"https://performancecopilot.github.io/qa-reports/reports/20251015_004011-0d24eb97//#testresult/292af4ab759c0590","status":"passed","statusDetails":"","time":{"start":1760483248000,"stop":1760483279000,"duration":31000}},{"uid":"50d10d08a26bd827","reportUrl":"https://performancecopilot.github.io/qa-reports/reports/20251013_212512-84bf35c4//#testresult/50d10d08a26bd827","status":"passed","statusDetails":"","time":{"start":1760386866000,"stop":1760386897000,"duration":31000}},{"uid":"43c22109e0e7edfd","reportUrl":"https://performancecopilot.github.io/qa-reports/reports/20251012_212220-58609e1a//#testresult/43c22109e0e7edfd","status":"failed","statusDetails":"output mismatch (see 1221.out.bad)\n16457a16458,17141\n> Job for pmlogger.service failed because the service did not take the steps required by its unit configuration.\n> See \"systemctl status pmlogger.service\" and \"journalctl -xeu pmlogger.service\" for details.\n> Sun Oct 12 20:20:31 UTC 2025\n> Arrgh ... pmlogger (primary) failed to start after 20 seconds\n> at Sun Oct 12 20:20:31 UTC 2025.\n> ++ pmlogger log (/var/log/pcp/pmlogger/b9ad04d604ea/pmlogger.log) ...\n> -rw-r--r-- 1 pcp pcp 240 Oct 12 20:19 /var/log/pcp/pmlogger/b9ad04d604ea/pmlogger.log\n> Log for pmlogger on b9ad04d604ea started Sun Oct 12 20:19:07 2025\n> \n> [Sun Oct 12 20:19:07] pmlogger(1574004) Info: Start\n> preprocessor cmd: /usr/lib/pcp/bin/pmcpp -rs -I /var/lib/pcp/config/pmlogger /var/lib/pcp/config/pmlogger/config.default\n> \n> ++ previous pmlogger log (/var/log/pcp/pmlogger/b9ad04d604ea/pmlogger.log.prev) ...\n> -rw-r--r-- 1 pcp pcp 35828 Oct 12 20:19 /var/log/pcp/pmlogger/b9ad04d604ea/pmlogger.log.prev\n> Log for pmlogger on b9ad04d604ea started Sun Oct 12 20:15:56 2025\n> \n> [Sun Oct 12 20:15:56] pmlogger(1462776) Info: Start\n> preprocessor cmd: /usr/lib/pcp/bin/pmcpp -rs -I /var/lib/pcp/config/pmlogger /var/lib/pcp/config/pmlogger/config.default\n> Config parsed\n> Starting primary logger for host \"b9ad04d604ea\" via \"local:\"\n> __pmLogNewFile: \"/var/log/pcp/pmlogger/b9ad04d604ea/20251012.20.15.index\" already exists, not over-written\n> __pmLogNewFile: \"/var/log/pcp/pmlogger/b9ad04d604ea/20251012.20.15-00.index\" already exists, not over-written\n> Archive basename: /var/log/pcp/pmlogger/b9ad04d604ea/20251012.20.15-01\n> \n> Group [85 metrics] {\n> \thinv.nfchost\n> \tkernel.all.pid_max\n>         ...\n> } logged once: 6348 bytes\n> \n> Group [1127 metrics] {\n> \tnetwork.all.out.packets\n> \tnetwork.all.out.bytes\n>         ...\n> } logged every 10 sec: 39332 bytes or 324.09 Mbytes/day\n> \n> Group [3 metrics] {\n> \tproc.memory.rss\n> \tproc.memory.size\n>         ...\n> } logged every 300 sec: 1500 bytes or 0.41 Mbytes/day\n> \n> Group [46 metrics] {\n> \tproc.io.cancelled_write_bytes\n> \tproc.io.write_bytes\n>         ...\n> } logged every 60 sec: 31696 bytes or 43.53 Mbytes/day\n> pmlogger: Lost connection to PMCD on \"b9ad04d604ea\" at Sun Oct 12 20:19:05 2025\n> pmlogger: re-established connection to PMCD on \"b9ad04d604ea\" at Sun Oct 12 20:19:06 2025\n> pmlogger: Validating metrics after PMCD state changed at Sun Oct 12 20:19:06 2025\n> Description unavailable for metric \"pmproxy.keys.requests.inflight.bytes\": Unknown or illegal metric identifier\n> Description unavailable for metric \"pmproxy.keys.requests.inflight.total\": Unknown or illegal metric identifier\n> Description unavailable for metric \"pmproxy.keys.requests.error\": Unknown or illegal metric identifier\n> Description unavailable for metric \"pmproxy.keys.requests.total\": Unknown or illegal metric identifier\n> Description unavailable for metric \"pmproxy.http.uncompressed.bytes\": Unknown or illegal metric identifier\n> Description unavailable for metric \"pmproxy.http.uncompressed.count\": Unknown or illegal metric identifier\n> Description unavailable for metric \"pmproxy.http.compressed.bytes\": Unknown or illegal metric identifier\n> Description unavailable for metric \"pmproxy.http.compressed.count\": Unknown or illegal metric identifier\n> Description unavailable for metric \"pmproxy.discover.throttle\": Unknown or illegal metric identifier\n> Description unavailable for metric \"pmproxy.discover.throttled_changed_callbacks\": Unknown or illegal metric identifier\n> Description unavailable for metric \"pmproxy.discover.changed_callbacks\": Unknown or illegal metric identifier\n> Description unavailable for metric \"pmproxy.discover.logvol.get_archive_end_failed\": Unknown or illegal metric identifier\n> Description unavailable for metric \"pmproxy.discover.logvol.new_contexts\": Unknown or illegal metric identifier\n> Description unavailable for metric \"pmproxy.discover.logvol.decode.result_errors\": Unknown or illegal metric identifier\n> Description unavailable for metric \"pmproxy.discover.logvol.decode.mark_record\": Unknown or illegal metric identifier\n> Description unavailable for metric \"pmproxy.discover.logvol.decode.result_pmids\": Unknown or illegal metric identifier\n> Description unavailable for metric \"pmproxy.discover.logvol.decode.result\": Unknown or illegal metric identifier\n> Description unavailable for metric \"pmproxy.discover.logvol.change_vol\": Unknown or illegal metric identifier\n> Description unavailable for metric \"pmproxy.discover.logvol.loops\": Unknown or illegal metric identifier\n> Description unavailable for metric \"pmproxy.discover.logvol.callbacks\": Unknown or illegal metric identifier\n> Description unavailable for metric \"pmproxy.discover.metadata.partial_reads\": Unknown or illegal metric identifier\n> Description unavailable for metric \"pmproxy.discover.metadata.decode.helptext\": Unknown or illegal metric identifier\n> Description unavailable for metric \"pmproxy.discover.metadata.decode.label\": Unknown or illegal metric identifier\n> Description unavailable for metric \"pmproxy.discover.metadata.decode.indom\": Unknown or illegal metric identifier\n> Description unavailable for metric \"pmproxy.discover.metadata.decode.desc\": Unknown or illegal metric identifier\n> Description unavailable for metric \"pmproxy.discover.metadata.loops\": Unknown or illegal metric identifier\n> Description unavailable for metric \"pmproxy.discover.metadata.callbacks\": Unknown or illegal metric identifier\n> Description unavailable for metric \"pmproxy.discover.purged\": Unknown or illegal metric identifier\n> Description unavailable for metric \"pmproxy.discover.monitored\": Unknown or illegal metric identifier\n> Error looking up pmproxy.logpaths.archive: Reason: Unknown metric name\n> One or more configured metrics have changed after pmcd state change. Exiting\n> \n> Log finished Sun Oct 12 20:19:06 2025\n> ++ /var/log/pcp/pmlogger/pmlogger_check.log.prev\n> -rw-r--r-- 1 pcp pcp 393 Oct 12 20:20 /var/log/pcp/pmlogger/pmlogger_check.log.prev\n> Start [check]: 2025-10-12 20:19:49.989515128\n> pmlogger_check: Warning: is another PCP cron job running concurrently?\n> -r--r--r-- 1 pcp pcp 23 Oct 12 20:19 /var/log/pcp/pmlogger/b9ad04d604ea/lock\n> 1573392 pmlogger_check\n> pmlogger_check: [control.d/local:36]\n> Warning: failed to acquire exclusive lock (/var/log/pcp/pmlogger/b9ad04d604ea/lock) ...\n> End [check]: 2025-10-12 20:20:11.575807538 status=0\n> ++ /var/log/pcp/pmlogger/pmlogger_janitor.log.prev\n> -rw-r--r-- 1 pcp pcp 101 Oct 12 20:20 /var/log/pcp/pmlogger/pmlogger_janitor.log.prev\n> Start [janitor]: 2025-10-12 20:20:11.436457030\n> End [janitor]: 2025-10-12 20:20:11.570805296 status=0\n> \n> ++ systemctl status for pmcd.service ...\n> ● pmcd.service - Performance Metrics Collector Daemon\n>      Loaded: loaded (/lib/systemd/system/pmcd.service; enabled; vendor preset: enabled)\n>      Active: active (running) since Sun 2025-10-12 20:19:49 UTC; 42s ago\n>        Docs: man:pmcd(1)\n>    Main PID: 1584766 (pmcd)\n>       Tasks: 12 (limit: 307)\n>      Memory: 56.2M\n>         CPU: 531ms\n>      CGroup: /system.slice/pmcd.service\n>              ├─1584766 /usr/lib/pcp/bin/pmcd -A -T 3 -C 512\n>              ├─1584769 /var/lib/pcp/pmdas/root/pmdaroot\n>              ├─1584770 /var/lib/pcp/pmdas/proc/pmdaproc -d 3\n>              ├─1584771 /var/lib/pcp/pmdas/xfs/pmdaxfs -d 11\n>              ├─1584772 /var/lib/pcp/pmdas/sample/pmdasample -d 29\n>              ├─1584773 /var/lib/pcp/pmdas/linux/pmdalinux\n>              ├─1584774 /usr/bin/python3 /var/lib/pcp/pmdas/nfsclient/pmdanfsclient.python\n>              ├─1584778 /var/lib/pcp/pmdas/kvm/pmdakvm -d 95\n>              ├─1584779 /var/lib/pcp/pmdas/dm/pmdadm -d 129\n>              ├─1584780 /usr/bin/python3 /var/lib/pcp/pmdas/openmetrics/pmdaopenmetrics.python\n>              ├─1584784 /usr/bin/python3 /var/lib/pcp/pmdas/opentelemetry/pmdaopentelemetry.python\n>              └─1584793 /var/lib/pcp/pmdas/simple/pmdasimple -d 253\n> \n> ++ last 4 journal entries for pmcd.service\n> Oct 12 20:19:49 b9ad04d604ea systemd[1]: Stopped Performance Metrics Collector Daemon.\n> ░░ Subject: A stop job for unit pmcd.service has finished\n> ░░ Defined-By: systemd\n> ░░ Support: http://www.ubuntu.com/support\n> ░░ \n> ░░ A stop job for unit pmcd.service has finished.\n> ░░ \n> ░░ The job identifier is 34845 and the job result is done.\n> Oct 12 20:19:49 b9ad04d604ea systemd[1]: pmcd.service: Consumed 8.916s CPU time.\n> ░░ Subject: Resources consumed by unit runtime\n> ░░ Defined-By: systemd\n> ░░ Support: http://www.ubuntu.com/support\n> ░░ \n> ░░ The unit pmcd.service completed and consumed the indicated resources.\n> Oct 12 20:19:49 b9ad04d604ea systemd[1]: Starting Performance Metrics Collector Daemon...\n> ░░ Subject: A start job for unit pmcd.service has begun execution\n> ░░ Defined-By: systemd\n> ░░ Support: http://www.ubuntu.com/support\n> ░░ \n> ░░ A start job for unit pmcd.service has begun execution.\n> ░░ \n> ░░ The job identifier is 34845.\n> Oct 12 20:19:49 b9ad04d604ea systemd[1]: Started Performance Metrics Collector Daemon.\n> ░░ Subject: A start job for unit pmcd.service has finished successfully\n> ░░ Defined-By: systemd\n> ░░ Support: http://www.ubuntu.com/support\n> ░░ \n> ░░ A start job for unit pmcd.service has finished successfully.\n> ░░ \n> ░░ The job identifier is 34845.\n> \n> ++ systemctl status for pmlogger.service ...\n> × pmlogger.service - PCP primary archive logger\n>      Loaded: loaded (/lib/systemd/system/pmlogger.service; enabled; vendor preset: enabled)\n>      Active: failed (Result: protocol) since Sun 2025-10-12 20:20:11 UTC; 20s ago\n>        Docs: man:pmlogger(1)\n>     Process: 1584994 ExecStart=/etc/pcp/pmlogger/rc start-systemd (code=exited, status=0/SUCCESS)\n>    Main PID: 1584994 (code=exited, status=0/SUCCESS)\n>         CPU: 1.682s\n> \n> ++ last 4 journal entries for pmlogger.service\n> Oct 12 20:19:49 b9ad04d604ea systemd[1]: Starting PCP primary archive logger...\n> ░░ Subject: A start job for unit pmlogger.service has begun execution\n> ░░ Defined-By: systemd\n","time":{"start":1760300346000,"stop":1760300458000,"duration":112000}},{"uid":"eed1ff4016581bbd","reportUrl":"https://performancecopilot.github.io/qa-reports/reports/20251011_211711-347a464a//#testresult/eed1ff4016581bbd","status":"passed","statusDetails":"","time":{"start":1760213926000,"stop":1760213956000,"duration":30000}},{"uid":"41598abbf4ff4d7b","reportUrl":"https://performancecopilot.github.io/qa-reports/reports/20251011_021431-ab10ad19//#testresult/41598abbf4ff4d7b","status":"passed","statusDetails":"","time":{"start":1760132361000,"stop":1760132392000,"duration":31000}},{"uid":"bcf8f940d6cfe475","reportUrl":"https://performancecopilot.github.io/qa-reports/reports/20251009_224938-09d2f320//#testresult/bcf8f940d6cfe475","status":"passed","statusDetails":"","time":{"start":1760041372000,"stop":1760041402000,"duration":30000}},{"uid":"92daad1825ef8f0c","reportUrl":"https://performancecopilot.github.io/qa-reports/reports/20251008_233245-e3c8f18b//#testresult/92daad1825ef8f0c","status":"passed","statusDetails":"","time":{"start":1759955030000,"stop":1759955061000,"duration":31000}},{"uid":"e35cb0ec0980a3b5","reportUrl":"https://performancecopilot.github.io/qa-reports/reports/20251007_215511-e38511ec//#testresult/e35cb0ec0980a3b5","status":"passed","statusDetails":"","time":{"start":1759868588000,"stop":1759868618000,"duration":30000}},{"uid":"c7609c2799ee6682","reportUrl":"https://performancecopilot.github.io/qa-reports/reports/20251006_223516-1ae23c20//#testresult/c7609c2799ee6682","status":"passed","statusDetails":"","time":{"start":1759782177000,"stop":1759782205000,"duration":28000}},{"uid":"3ae5569e1c06f672","reportUrl":"https://performancecopilot.github.io/qa-reports/reports/20251005_211611-96be163a//#testresult/3ae5569e1c06f672","status":"passed","statusDetails":"","time":{"start":1759695622000,"stop":1759695650000,"duration":28000}},{"uid":"eb02defd31337d5","reportUrl":"https://performancecopilot.github.io/qa-reports/reports/20251004_211746-96be163a//#testresult/eb02defd31337d5","status":"passed","statusDetails":"","time":{"start":1759609067000,"stop":1759609095000,"duration":28000}},{"uid":"21e40f21339dd99a","reportUrl":"https://performancecopilot.github.io/qa-reports/reports/20251003_222521-96be163a//#testresult/21e40f21339dd99a","status":"passed","statusDetails":"","time":{"start":1759526171000,"stop":1759526198000,"duration":27000}},{"uid":"8b9f580f01e4edf1","reportUrl":"https://performancecopilot.github.io/qa-reports/reports/20251002_222200-f5f90973//#testresult/8b9f580f01e4edf1","status":"passed","statusDetails":"","time":{"start":1759439005000,"stop":1759439033000,"duration":28000}},{"uid":"f5ed68447bbf65a7","reportUrl":"https://performancecopilot.github.io/qa-reports/reports/20251002_000337-f5f90973//#testresult/f5ed68447bbf65a7","status":"passed","statusDetails":"","time":{"start":1759359568000,"stop":1759359596000,"duration":28000}},{"uid":"22982a992f3c5afb","reportUrl":"https://performancecopilot.github.io/qa-reports/reports/20250930_222504-dc3977a7//#testresult/22982a992f3c5afb","status":"passed","statusDetails":"","time":{"start":1759267874000,"stop":1759267902000,"duration":28000}},{"uid":"bb403627b093f716","reportUrl":"https://performancecopilot.github.io/qa-reports/reports/20250930_023007-e501d95c//#testresult/bb403627b093f716","status":"passed","statusDetails":"","time":{"start":1759193258000,"stop":1759193286000,"duration":28000}},{"uid":"4539ae1c3244faed","reportUrl":"https://performancecopilot.github.io/qa-reports/reports/20250928_211351-d667ac59//#testresult/4539ae1c3244faed","status":"passed","statusDetails":"","time":{"start":1759090952000,"stop":1759090980000,"duration":28000}}]},"tags":[]},"source":"5d61beaa45b905f3.json","parameterValues":[]}