Trying to compile config /var/tmp/1171-1460920.conf ...
No compile+load errors detected, but that does not guarantee all is well ...
Log for pmdabcc on runnervmwhb2z started Sat Oct 25 20:24:15 2025

[Sat Oct 25 20:24:15] pmdabcc(1460992) Info: Enabled modules:
[Sat Oct 25 20:24:15] pmdabcc(1460992) Info: ['profile']
[Sat Oct 25 20:24:15] pmdabcc(1460992) Info: Configuring modules:
[Sat Oct 25 20:24:15] pmdabcc(1460992) Info: profile
[Sat Oct 25 20:24:15] pmdabcc(1460992) Info: Modules configured.
[Sat Oct 25 20:24:15] pmdabcc(1460992) Info: Initializing modules:
[Sat Oct 25 20:24:15] pmdabcc(1460992) Info: profile
[Sat Oct 25 20:24:15] pmdabcc(1460992) Info: profile: Initialized.
[Sat Oct 25 20:24:15] pmdabcc(1460992) Info: Modules initialized.
[Sat Oct 25 20:24:15] pmdabcc(1460992) Info: Registering metrics:
[Sat Oct 25 20:24:15] pmdabcc(1460992) Info: profile
[Sat Oct 25 20:24:15] pmdabcc(1460992) Info: Metrics registered.
[Sat Oct 25 20:24:15] pmdabcc(1460992) Info: Registering helpers:
[Sat Oct 25 20:24:15] pmdabcc(1460992) Info: Helpers registered.
[Sat Oct 25 20:24:15] pmdabcc(1460992) Info: Compiling modules:
[Sat Oct 25 20:24:15] pmdabcc(1460992) Info: profile
[Sat Oct 25 20:24:15] pmdabcc(1460992) Info: Modules compiled.

Log finished Sat Oct 25 20:24:15 2025
_prepare_pmda(agent=bcc, names=bcc) __install_on_cleanup=false
pmdabcc config:
# Installed by PCP QA test 1171 on Sat Oct 25 20:24:15 UTC 2025
[pmda]
modules = profile
prefix = bcc.
[profile]
module = profile
cluster = 14
=== _pmdabcc_wait_for_metric: after 0 secs, metrics should be available ===
=== _pmdabcc_wait_for_metric: after another 1 secs, values are available ===

bcc.proc.profile
    value "{"status": "stopped", "data": null}"
Log for pmdabcc on runnervmwhb2z started Sat Oct 25 20:24:17 2025

[Sat Oct 25 20:24:17] pmdabcc(1461389) Info: Initializing, currently in 'notready' state.
[Sat Oct 25 20:24:17] pmdabcc(1461389) Info: Enabled modules:
[Sat Oct 25 20:24:17] pmdabcc(1461389) Info: ['profile']
[Sat Oct 25 20:24:17] pmdabcc(1461389) Info: Configuring modules:
[Sat Oct 25 20:24:17] pmdabcc(1461389) Info: profile
[Sat Oct 25 20:24:17] pmdabcc(1461389) Info: Modules configured.
[Sat Oct 25 20:24:17] pmdabcc(1461389) Info: Initializing modules:
[Sat Oct 25 20:24:17] pmdabcc(1461389) Info: profile
[Sat Oct 25 20:24:17] pmdabcc(1461389) Info: profile: Initialized.
[Sat Oct 25 20:24:17] pmdabcc(1461389) Info: Modules initialized.
[Sat Oct 25 20:24:17] pmdabcc(1461389) Info: Registering metrics:
[Sat Oct 25 20:24:17] pmdabcc(1461389) Info: profile
[Sat Oct 25 20:24:17] pmdabcc(1461389) Info: Metrics registered.
[Sat Oct 25 20:24:17] pmdabcc(1461389) Info: Registering helpers:
[Sat Oct 25 20:24:17] pmdabcc(1461389) Info: Helpers registered.
[Sat Oct 25 20:24:17] pmdabcc(1461389) Info: Compiling modules:
[Sat Oct 25 20:24:17] pmdabcc(1461389) Info: profile
[Sat Oct 25 20:24:17] pmdabcc(1461389) Info: Modules compiled.
[Sat Oct 25 20:24:17] pmdabcc(1461389) Info: Freeing memory:
[Sat Oct 25 20:24:17] pmdabcc(1461389) Info: profile
[Sat Oct 25 20:24:17] pmdabcc(1461389) Info: Memory freed.
[Sat Oct 25 20:24:17] pmdabcc(1461389) Info: Ready to process requests.
[Sat Oct 25 20:24:19] pmdabcc(1461389) Info: profile: Starting profiling...
In file included from /virtual/main.c:4:
In file included from include/uapi/linux/ptrace.h:183:
In file included from arch/x86/include/asm/ptrace.h:175:
In file included from arch/x86/include/asm/paravirt_types.h:12:
In file included from arch/x86/include/asm/nospec-branch.h:15:
arch/x86/include/asm/current.h:47:10: warning: multiple identical address spaces specified for type [-Wduplicate-decl-specifier]
   47 |                 return this_cpu_read_const(const_pcpu_hot.current_task);
      |                        ^
arch/x86/include/asm/percpu.h:577:36: note: expanded from macro 'this_cpu_read_const'
  577 | #define this_cpu_read_const(pcp)                        __raw_cpu_read_const(pcp)
      |                                                         ^
arch/x86/include/asm/percpu.h:163:35: note: expanded from macro '__raw_cpu_read_const'
  163 | #define __raw_cpu_read_const(pcp)       __raw_cpu_read(, , pcp)
      |                                         ^
arch/x86/include/asm/percpu.h:155:30: note: expanded from macro '__raw_cpu_read'
  155 |         *(qual __my_cpu_type(pcp) *)__my_cpu_ptr(&(pcp));               \
      |                                     ^
note: (skipping 1 expansions in backtrace; use -fmacro-backtrace-limit=0 to see all)
arch/x86/include/asm/percpu.h:94:40: note: expanded from macro '__my_cpu_type'
   94 | #define __my_cpu_type(var)      typeof(var) __percpu_seg_override
      |                                             ^
arch/x86/include/asm/percpu.h:45:32: note: expanded from macro '__percpu_seg_override'
   45 | # define __percpu_seg_override  __seg_gs
      |                                 ^
<built-in>:358:33: note: expanded from macro '__seg_gs'
  358 | #define __seg_gs __attribute__((address_space(256)))
      |                                 ^
In file included from /virtual/main.c:4:
In file included from include/uapi/linux/ptrace.h:183:
In file included from arch/x86/include/asm/ptrace.h:175:
In file included from arch/x86/include/asm/paravirt_types.h:12:
In file included from arch/x86/include/asm/nospec-branch.h:15:
arch/x86/include/asm/current.h:47:10: warning: multiple identical address spaces specified for type [-Wduplicate-decl-specifier]
arch/x86/include/asm/percpu.h:577:36: note: expanded from macro 'this_cpu_read_const'
  577 | #define this_cpu_read_const(pcp)                        __raw_cpu_read_const(pcp)
      |                                                         ^
arch/x86/include/asm/percpu.h:163:35: note: expanded from macro '__raw_cpu_read_const'
  163 | #define __raw_cpu_read_const(pcp)       __raw_cpu_read(, , pcp)
      |                                         ^
arch/x86/include/asm/percpu.h:155:9: note: expanded from macro '__raw_cpu_read'
  155 |         *(qual __my_cpu_type(pcp) *)__my_cpu_ptr(&(pcp));               \
      |                ^
arch/x86/include/asm/percpu.h:94:40: note: expanded from macro '__my_cpu_type'
   94 | #define __my_cpu_type(var)      typeof(var) __percpu_seg_override
      |                                             ^
arch/x86/include/asm/percpu.h:45:32: note: expanded from macro '__percpu_seg_override'
   45 | # define __percpu_seg_override  __seg_gs
      |                                 ^
<built-in>:358:33: note: expanded from macro '__seg_gs'
  358 | #define __seg_gs __attribute__((address_space(256)))
      |                                 ^
In file included from /virtual/main.c:5:
In file included from include/uapi/linux/bpf_perf_event.h:11:
In file included from arch/x86/include/generated/uapi/asm/bpf_perf_event.h:1:
In file included from include/uapi/asm-generic/bpf_perf_event.h:4:
In file included from include/linux/ptrace.h:6:
In file included from include/linux/sched.h:13:
arch/x86/include/asm/processor.h:545:10: warning: multiple identical address spaces specified for type [-Wduplicate-decl-specifier]
  545 |                 return this_cpu_read_const(const_pcpu_hot.top_of_stack);
      |                        ^
arch/x86/include/asm/percpu.h:577:36: note: expanded from macro 'this_cpu_read_const'
  577 | #define this_cpu_read_const(pcp)                        __raw_cpu_read_const(pcp)
      |                                                         ^
arch/x86/include/asm/percpu.h:163:35: note: expanded from macro '__raw_cpu_read_const'
  163 | #define __raw_cpu_read_const(pcp)       __raw_cpu_read(, , pcp)
      |                                         ^
arch/x86/include/asm/percpu.h:155:30: note: expanded from macro '__raw_cpu_read'
  155 |         *(qual __my_cpu_type(pcp) *)__my_cpu_ptr(&(pcp));               \
      |                                     ^
note: (skipping 1 expansions in backtrace; use -fmacro-backtrace-limit=0 to see all)
arch/x86/include/asm/percpu.h:94:40: note: expanded from macro '__my_cpu_type'
   94 | #define __my_cpu_type(var)      typeof(var) __percpu_seg_override
      |                                             ^
arch/x86/include/asm/percpu.h:45:32: note: expanded from macro '__percpu_seg_override'
   45 | # define __percpu_seg_override  __seg_gs
      |                                 ^
<built-in>:358:33: note: expanded from macro '__seg_gs'
  358 | #define __seg_gs __attribute__((address_space(256)))
      |                                 ^
In file included from /virtual/main.c:5:
In file included from include/uapi/linux/bpf_perf_event.h:11:
In file included from arch/x86/include/generated/uapi/asm/bpf_perf_event.h:1:
In file included from include/uapi/asm-generic/bpf_perf_event.h:4:
In file included from include/linux/ptrace.h:6:
In file included from include/linux/sched.h:13:
arch/x86/include/asm/processor.h:545:10: warning: multiple identical address spaces specified for type [-Wduplicate-decl-specifier]
arch/x86/include/asm/percpu.h:577:36: note: expanded from macro 'this_cpu_read_const'
  577 | #define this_cpu_read_const(pcp)                        __raw_cpu_read_const(pcp)
      |                                                         ^
arch/x86/include/asm/percpu.h:163:35: note: expanded from macro '__raw_cpu_read_const'
  163 | #define __raw_cpu_read_const(pcp)       __raw_cpu_read(, , pcp)
      |                                         ^
arch/x86/include/asm/percpu.h:155:9: note: expanded from macro '__raw_cpu_read'
  155 |         *(qual __my_cpu_type(pcp) *)__my_cpu_ptr(&(pcp));               \
      |                ^
arch/x86/include/asm/percpu.h:94:40: note: expanded from macro '__my_cpu_type'
   94 | #define __my_cpu_type(var)      typeof(var) __percpu_seg_override
      |                                             ^
arch/x86/include/asm/percpu.h:45:32: note: expanded from macro '__percpu_seg_override'
   45 | # define __percpu_seg_override  __seg_gs
      |                                 ^
<built-in>:358:33: note: expanded from macro '__seg_gs'
  358 | #define __seg_gs __attribute__((address_space(256)))
      |                                 ^
4 warnings generated.
[Sat Oct 25 20:24:21] pmdabcc(1461389) Info: profile: Started profiling.
[Sat Oct 25 20:24:26] pmdabcc(1461389) Info: profile: Stopping profiling...
ioctl(PERF_EVENT_IOC_DISABLE) failed: Inappropriate ioctl for device
Exception in thread Thread-3 (stop_profiling):
Traceback (most recent call last):
  File "/usr/lib/python3.12/threading.py", line 1073, in _bootstrap_inner
    self.run()
  File "/usr/lib/python3.12/threading.py", line 1010, in run
    self._target(*self._args, **self._kwargs)
  File "/usr/lib/pcp/pmdas/bcc/modules/profile.py", line 272, in stop_profiling
    super(PCPBCCModule, self).cleanup()
  File "/usr/lib/pcp/pmdas/bcc/modules/pcpbcc.py", line 104, in cleanup
    self.bpf.cleanup()
  File "/usr/lib/python3/dist-packages/bcc/__init__.py", line 1794, in cleanup
    self.detach_perf_event(ev_type, ev_config)
  File "/usr/lib/python3/dist-packages/bcc/__init__.py", line 1289, in detach_perf_event
    raise Exception("Failed to detach BPF from perf event")
Exception: Failed to detach BPF from perf event
[Sat Oct 25 20:24:27.012476] Warning: __pmSendNameList(1,...) PMNS_TRAVERSE failed: Bad file descriptor
[Sat Oct 25 20:24:28.016784] Warning: __pmSendNameList(1,...) PMNS_TRAVERSE failed: Bad file descriptor
[Sat Oct 25 20:24:29.021254] Warning: __pmSendNameList(1,...) PMNS_TRAVERSE failed: Bad file descriptor
[Sat Oct 25 20:24:30.025604] Warning: __pmSendNameList(1,...) PMNS_TRAVERSE failed: Bad file descriptor
[Sat Oct 25 20:24:31.029885] Warning: __pmSendNameList(1,...) PMNS_TRAVERSE failed: Bad file descriptor
[Sat Oct 25 20:24:32.034213] Warning: __pmSendNameList(1,...) PMNS_TRAVERSE failed: Bad file descriptor
[Sat Oct 25 20:24:33.038634] Warning: __pmSendNameList(1,...) PMNS_TRAVERSE failed: Bad file descriptor
[Sat Oct 25 20:24:34.043009] Warning: __pmSendNameList(1,...) PMNS_TRAVERSE failed: Bad file descriptor
[Sat Oct 25 20:24:35.047307] Warning: __pmSendNameList(1,...) PMNS_TRAVERSE failed: Bad file descriptor
[Sat Oct 25 20:24:36.051590] Warning: __pmSendNameList(1,...) PMNS_TRAVERSE failed: Bad file descriptor
_wait_for_pmlogger() success at iter 0 ...
Connected to primary pmlogger at local:
pmlogger [primary] on host local: is logging metrics from host runnervmwhb2z
PMCD host        runnervmwhb2z
log started      Sat Oct 25 20:24:38.406074568 2025 (times in local time)
last log entry   Sat Oct 25 20:24:38.963813557 2025
current time     Sat Oct 25 20:24:38.966515239 2025
log volume       0
log size         53388
_cleanup_pmda(bcc,) remove PMDA
_wait_for_pmlogger() success at iter 0 ...
Connected to primary pmlogger at local:
pmlogger [primary] on host local: is logging metrics from host runnervmwhb2z
PMCD host        runnervmwhb2z
log started      Sat Oct 25 20:24:38.406074568 2025 (times in local time)
last log entry   Sat Oct 25 20:24:38.980610727 2025
current time     Sat Oct 25 20:24:40.662854136 2025
log volume       0
log size         168360
